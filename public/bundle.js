!function(I){var g={};function t(n){if(g[n])return g[n].exports;var C=g[n]={i:n,l:!1,exports:{}};return I[n].call(C.exports,C,C.exports,t),C.l=!0,C.exports}t.m=I,t.c=g,t.d=function(I,g,n){t.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:n})},t.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},t.t=function(I,g){if(1&g&&(I=t(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var C in I)t.d(n,C,function(g){return I[g]}.bind(null,C));return n},t.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return t.d(g,"a",g),g},t.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},t.p="",t(t.s=0)}([
/*!***********************************!*\
  !*** ./src/index.js + 13 modules ***!
  \***********************************/
/*! no exports provided */
/*! all exports used */function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/feed/post.js\nclass Post {\n  constructor(model) {\n    const { id, author, post, date, likes, comments, tags } = model;\n\n    this.id = id;\n    this.author = author;\n    this.post = post;\n    this.date = date;\n    this.likes = likes;\n\n    this.comments = comments;\n    this.showComments = false;\n\n    this.tags = tags;\n\n    this.addLike = this.addLike.bind(this);\n    this.addComment = this.addComment.bind(this);\n    this.render = this.render.bind(this);\n    this.showAllComments = this.showAllComments.bind(this);\n  }\n\n  addLike() {\n    this.likes++;\n  }\n\n  addComment(e) {\n    e.preventDefault();\n    if (!e.target.elements.comment.value) return;\n    // {\n    //     author: { first, last... },\n    //     text: \'text\',\n    // }\n    this.comments.push({\n      author: {\n        avatarUrl: "http://placehold.it/32x32",\n        email: "",\n        firstName: e.target.elements.user_name.value,\n        guid: "",\n        lastName: "",\n        rank: 0\n      },\n      text: e.target.elements.comment.value\n    });\n\n    let commentTemplate = `<div class="commentList">\n                <ul class="nth_comment">\n                    <li>\n                        <p><b>${e.target.elements.user_name.value}</b></p>\n                        <p>${e.target.elements.comment.value}</p></br>\n                    </li>\n                </ul>\n            </div>`;\n\n    document.getElementById(`post_${this.id}`).querySelector(".all_comments").innerHTML += commentTemplate;\n    document.getElementById(`post_${this.id}`).querySelector(".comments_text").innerHTML = `All comments (${this.comments.length})`;\n\n    e.target.elements.comment.value = "";\n  }\n\n  showAllComments() {\n    if (this.showComments) {\n      document.getElementById(`post_${this.id}`).querySelector(".all_comments").innerHTML = "";\n      this.showComments = false;\n    } else {\n      this.showComments = true;\n      let newArrComm = this.comments.map(comment => {\n        comment = `<div class="commentList">\n                            <ul class="nth_comment">\n                                <li>\n                                    <p><b>${comment.author.firstName} ${comment.author.lastName}</b></p>\n                                    <p><em>${comment.text}</em></p></br>\n                                </li>\n                            </ul>\n                        </div>`;\n        return comment;\n      });\n      document.getElementById(`post_${this.id}`).querySelector(".all_comments").innerHTML = newArrComm.join("\\n");\n      document.getElementById(`post_${this.id}`).querySelector(".comments_text").innerHTML = `All comments (${this.comments.length})`;\n    }\n  }\n\n  render() {\n    let currentUser = JSON.parse(localStorage.getItem("SigUpUser"));\n\n    let div = document.createElement("div");\n    div.innerHTML = `\n        <div class="post" id="post_${this.id}">\n\n            <div class="header_post">\n                <div class="user_avatar" title="avatar">\n                    <a href="#">\n                        <img src="${this.author.avatarUrl}">\n                    </a>\n                </div>\n                <div class="wrap_date_name">\n                    <span class="user_name">${this.author.firstName} ${this.author.lastName}</span>\n                    <span class="user_date">${this.date}</span>\n                </div>\n            </div>\n\n            <div class="main_img_post">\n                <img src="${this.post.imageUrl}" alt="">\n            </div>\n\n            <div class="likes">\n                <a href="#" class="_addLike">\n                    <span class="like_count">♥</span>\n                    <span class="like_text">${this.likes} Likes</span>\n                </a>\n            </div>\n\n            <div class="tags">\n                ${this.tags.map(tag => `<a href="#${tag}">#${tag}</a>`).join("\\n")}\n            </div>\n\n            <div class="wrap_main_text">\n                <p class="main_text">${this.post.description}</p>\n            </div>\n\n            <div class="footer_post">\n                <span class="comments_text">All comments (${this.comments.length})</span>\n                <div class="all_comments"></div>\n                ${currentUser !== null ? `<form class="comment_form">\n                                <input hidden name="user_name" value="${currentUser.name} ${currentUser.last}"/>\n                                <input name="comment" type="text" placeholder="Write your comment...">\n                                <button type="submit" title="send" class="_addComment"> > </button>\n                            </form>` : ""}\n            </div>\n        </div>`;\n\n    let _addLike = div.querySelector("._addLike");\n    let showAllComments = div.querySelector(".comments_text");\n    if (currentUser !== null) {\n      let comment_form = div.querySelector(".comment_form");\n      comment_form.addEventListener("submit", this.addComment);\n    }\n\n    showAllComments.addEventListener("click", this.showAllComments);\n\n    _addLike.addEventListener("click", e => {\n      e.preventDefault();\n      this.addLike();\n      let block = document.getElementById("post_" + this.id).querySelector(".like_text").innerText = `${this.likes} likes`;\n    });\n\n    return div;\n  }\n}\n// CONCATENATED MODULE: ./src/feed/feed.js\n\n\nconst POSTS_LIMIT = 5;\n\nclass feed_Feed {\n  constructor() {\n    this.posts = [];\n    this.postsLimit = POSTS_LIMIT;\n  }\n\n  async getPosts() {\n    // [{model}, {model}, ...]\n    //   |        |\n    // [Post,    Post,...]\n    try {\n      const models = await fetch("../data.json").then(res => res.json()); // [{model}, {model}, ...]\n      const posts = models.map(model => new Post(model)); // [Post,    Post,...]\n\n      this.posts = posts;\n    } catch (error) {}\n  }\n\n  findPost(postIds) {\n    // 1 || [1, 2, 3]\n    if (Array.isArray(postIds)) {\n      // postIds = [1, 2, 3]\n      return this.posts.filter(post => postIds.indexOf(post.id) > -1);\n    } else {\n      // postIds = 1\n      return this.posts.filter(post => post.id === postIds);\n    }\n  }\n\n  showPosts() {\n    const container = document.getElementById("wrap_posts");\n\n    container.innerHTML = null;\n\n    this.posts.filter((_, i) => i < this.postsLimit).forEach(post => container.appendChild(post.render()));\n\n    this.postsLimit = this.postsLimit + POSTS_LIMIT;\n  }\n\n  renderPost(ids) {\n    const container = document.getElementById("wrap_posts");\n\n    container.innerHTML = null;\n\n    this.findPost(ids).forEach(post => container.appendChild(post.render()));\n  }\n}\n// CONCATENATED MODULE: ./src/feed/index.js\n\n// CONCATENATED MODULE: ./src/calendar/index.js\n\n\nlet feed2 = new feed_Feed();\nlet new_POSTS;\n\nfeed2.getPosts().then(res => {\n  new_POSTS = feed2.posts.map(old => {\n    let postDate = new Date(old.date);\n\n    return {\n      id: old.id,\n      date: {\n        time: [postDate.getMonth(), postDate.getDate(), postDate.getFullYear()],\n        ms: postDate.getTime()\n      }\n    };\n  });\n  createCal(cal_current_date.getMonth(), cal_current_date.getFullYear());\n});\n\nconst POSTS = [{\n  id: 1,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 67,\n  name: "post dog",\n  date: {\n    time: [6, 3, 2018]\n  }\n}, {\n  id: 2,\n  name: "post dog",\n  date: {\n    time: [6, 4, 2018]\n  }\n}, {\n  id: 3,\n  name: "post dog",\n  date: {\n    time: [6, 17, 2018]\n  }\n}, {\n  id: 43,\n  name: "post dog",\n  date: {\n    time: [6, 22, 2018]\n  }\n}, {\n  id: 22,\n  name: "post fish",\n  date: {\n    time: [6, 25, 2018]\n  }\n}, {\n  id: 12,\n  name: "post dog",\n  date: {\n    time: [6, 17, 2018]\n  }\n}, {\n  id: 6,\n  name: "post dog",\n  date: {\n    time: [6, 17, 2017]\n  }\n}, {\n  id: 8,\n  name: "post dog",\n  date: {\n    time: [7, 17, 2018]\n  }\n}, {\n  id: 9,\n  name: "post dog",\n  date: {\n    time: [7, 17, 2018]\n  }\n}];\nconst cal_days_labels = ["Вс", "Пн", "Вт", "Ср", "Чт", "Пт", "Сб"];\nconst cal_months_labels = ["Январь", "Февраль", "Март", "Апрель", "Май", "Июнь", "Июль", "Август", "Сентябрь", "Октябрь", "Ноябрь", "Декабрь"];\n\n// these are the days of the week for each month, in order\nconst cal_days_in_month = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst cal_current_date = new Date();\n\nclass Calendar {\n  constructor(month, year) {\n    this.month = isNaN(month) || month == null ? cal_current_date.getMonth() : month;\n    this.year = isNaN(year) || year == null ? cal_current_date.getFullYear() : year;\n    this.html = "";\n    this.renderCalendar = this.renderCalendar;\n  }\n\n  generateObjOfIds(firstDay, startingDay, monthLength) {\n    let daysObj = {}; //этот объект вернеться в конце обработки метода, поэтому необходимо назвать по-человечески\n    let monthName = cal_months_labels[this.month];\n    let day = 1;\n\n    for (let i = 0; i < 9; i++) {\n      for (let j = 0; j <= 6; j++) {\n        new_POSTS.map(postDay => {\n          if (postDay.date.time[0] === this.month && postDay.date.time[1] === day) {\n            if (!daysObj[day]) daysObj[day] = [];\n            daysObj[day].push(postDay);\n          }\n        });\n        if (day <= monthLength && (i > 0 || j >= startingDay)) day++;\n      }\n    }\n    return daysObj;\n  }\n\n  getIdsByDate(days, day) {\n    return days.map(a => a.id);\n  }\n\n  renderCalendar(firstDay, startingDay, monthLength) {\n    let dataObj = this.generateObjOfIds(firstDay, startingDay, monthLength);\n    let firstDayIndex = new Date(firstDay).getDay();\n    let monthName = cal_months_labels[this.month];\n    let html = \'<table class="calendar-table">\';\n    html += \'<tr><th class="header_row" colspan="7">\';\n    html += \'<button id="left-btn" class="arrow_btn"><</button> \' + "<span class=\'monthName\'>" + monthName + " " + this.year + "</span>" + \'<button class="arrow_btn" id="right-btn">></button>\';\n    html += "</th></tr>";\n    html += \'<tr class="calendar-header">\';\n\n    for (let i = 0; i <= 6; i++) {\n      html += \'<td class="calendar-header-day">\';\n      html += cal_days_labels[i];\n      html += "</td>";\n    }\n    html += "</tr><tr>";\n    // fill in the days\n    let day = 1;\n\n    if (day === 1 && firstDayIndex !== 0) {\n      for (let o = 0; o < firstDayIndex; o++) {\n        html += "<td></td>";\n      }\n    }\n    // this loop is for is weeks (rows)а\n    for (let i = 0; i < 9; i++) {\n      // this loop is for weekdays (cells)\n      for (let j = 0; j <= 6; j++) {\n        var b = "";\n        new_POSTS.map(postDay => {\n          if (postDay.date.time[0] === this.month && postDay.date.time[1] === day) {\n            b = `data-posts="[${this.getIdsByDate(dataObj[day], day)}]"`;\n          }\n        });\n\n        if (day <= monthLength && (i > 0 || j >= startingDay)) {\n          html += `<td class="calendar-day" ${b}>` + day;\n          day++;\n        }\n        html += "</td>";\n      }\n      // stop making rows if we\'ve run out of days\n      if (day > monthLength) {\n        break;\n      } else {\n        html += "</tr><tr>";\n      }\n    }\n    html += "</tr></table>";\n    return html;\n  }\n\n  generateHTML() {\n    // get first day of month\n    let firstDay = new Date(this.year, this.month, 1);\n    let startingDay = firstDay.getDay();\n    // find number of days in month\n    let monthLength = cal_days_in_month[this.month];\n    // compensate for leap year\n    if (this.month == 1) {\n      // February only!\n      if (this.year % 4 == 0 && this.year % 100 != 0 || this.year % 400 == 0) {\n        monthLength = 29;\n      }\n    }\n    // do the header\n    let calendarDiv = document.createElement("div");\n    calendarDiv.innerHTML = this.renderCalendar(firstDay, startingDay, monthLength);\n    let targetId = document.getElementById("calendar");\n    targetId.innerHTML = null;\n    targetId.appendChild(calendarDiv);\n  }\n\n  generateArrOfMonthes() {\n    let arrayOfrelMonthes = new_POSTS.map(function (elem) {\n      return {\n        m: elem.date.time[0],\n        y: elem.date.time[2],\n        ms: elem.date.ms\n      };\n    });\n    function getUniqueObject(nonUniqueArray) {\n      let result = [];\n      for (let i = 0; i < nonUniqueArray.length; i++) {\n        let currentItem = nonUniqueArray[i];\n\n        if (isObjectPresent(result, currentItem)) {\n          // do nothing\n        } else {\n          result.push(currentItem);\n        }\n      }\n\n      result = result.sort((a, b) => {\n        return a.ms - b.ms;\n      });\n\n      return result;\n    }\n\n    function isObjectPresent(incomeArray, objectToVerify) {\n      for (let i = 0; i < incomeArray.length; i++) {\n        let currentItem = incomeArray[i];\n        if (isSimilar(currentItem, objectToVerify)) return true;\n      }\n      return false;\n    }\n\n    function isSimilar(object1, object2) {\n      if (object1.m === object2.m && object1.y === object2.y) return true;\n      return false;\n    }\n    return getUniqueObject(arrayOfrelMonthes);\n  }\n}\n\nlet arrOfDatesToCal = [];\nlet arrayOfDays = [];\nlet currentPosition = 0;\n\nfunction createCal(month, year) {\n  let cal = new Calendar(month, year);\n  cal.generateHTML();\n  arrOfDatesToCal = cal.generateArrOfMonthes();\n\n  let leftBtn = document.getElementById("left-btn");\n  let rightBtn = document.getElementById("right-btn");\n\n  rightBtn.addEventListener("click", function () {\n    if (currentPosition < arrOfDatesToCal.length - 1) currentPosition++;else currentPosition = 0;\n\n    month = arrOfDatesToCal[currentPosition].m;\n    year = arrOfDatesToCal[currentPosition].y;\n    createCal(month, year);\n  });\n  leftBtn.addEventListener("click", function () {\n    if (currentPosition > 0) {\n      currentPosition--;\n    } else {\n      currentPosition = arrOfDatesToCal.length - 1;\n    }\n\n    month = arrOfDatesToCal[currentPosition].m;\n    year = arrOfDatesToCal[currentPosition].y;\n    createCal(month, year);\n  });\n  countPosts();\n}\n\nfunction countPosts() {\n  let days = document.querySelectorAll("td");\n  days.forEach(function (day) {\n    if (day.dataset.posts !== undefined) {\n      arrayOfDays = JSON.parse(day.dataset.posts);\n      switch (arrayOfDays.length) {\n        case 1:\n          day.classList.add("day-one");\n          break;\n\n        case 2:\n          day.classList.add("day-six");\n          break;\n\n        case 3:\n          day.classList.add("day-nine");\n          break;\n\n        default:\n          day.classList.add("test");\n      }\n    }\n\n    day.addEventListener("click", function (e) {\n      if (e.target.dataset.posts !== undefined) {\n        let arrayOfId = JSON.parse(e.target.dataset.posts);\n        if (arrayOfId.length > 1) {\n          feed2.renderPost(arrayOfId);\n\n          document.querySelector(\'.tab_content[data-id="1"]\').classList.add("show");\n          document.querySelector(\'.tab_content[data-id="2"]\').classList.remove("show");\n        } else {\n          feed2.renderPost(arrayOfId[0]);\n          document.querySelector(\'.tab_content[data-id="1"]\').classList.add("show");\n          document.querySelector(\'.tab_content[data-id="2"]\').classList.remove("show");\n        }\n      }\n    });\n  });\n}\n// CONCATENATED MODULE: ./src/profile/signUp.js\n\nlet array = [];\nlet signUpBtn = document.getElementById("signUp");\nlet logOutBtn = document.getElementById("logout_btn");\nlet setUrlBtn = document.getElementById("setUrl");\nlet hideCont = document.getElementById("profilereg");\nlet showProfileInfo = document.getElementById("profWrap");\nlet signUpEmail = document.getElementById("signUp_email");\n\nlet signUpPass = document.getElementById("signUp_password");\nlet profileAvaUrl = document.querySelectorAll(".profile_Avatar");\nlet cancelChangeBtn = document.createElement("button");\nlet acceptChangeBtn = document.createElement("button");\ncancelChangeBtn.id = "cancelChanges";\nacceptChangeBtn.id = "acceptChanges";\nlet showProf = item => {\n  let sesStor = JSON.stringify(item);\n  let profile_Name = document.getElementById("profile_Name");\n  let profile_Last = document.getElementById("profile_Last");\n  let profile_Email = document.getElementById("profile_Email");\n\n  localStorage.setItem("SigUpUser", sesStor);\n  profile_Name.innerHTML = ` Name: ${item.name}`;\n  if (item.last !== undefined) {\n    profile_Last.innerHTML = ` Last: ${item.last}`;\n  } else {\n    profile_Last.innerHTML = null;\n  }\n  profile_Email.innerHTML = ` Email: ${item.mail}`;\n\n  hideCont.classList.remove("show");\n  hideCont.classList.add("hide");\n  showProfileInfo.classList.remove("hide");\n  showProfileInfo.classList.add("show");\n\n  Array.from(profileAvaUrl).map(url => {\n    url.src = item.avatarUrl;\n  });\n};\nlet login = e => {\n  e.preventDefault();\n  let dataStorage = localStorage.getItem("newUser");\n  let loggedStatus = localStorage.setItem("loggedStatus", "true");\n  let storageObject = JSON.parse(dataStorage);\n  storageObject.map(item => {\n    let sesStor = JSON.stringify(item);\n    localStorage.setItem("SigUpUser", sesStor);\n\n    if (item.mail === signUpEmail.value && item.password === signUpPass.value) {\n      if (localStorage.getItem("SigUpUser")) {\n        showProf(item);\n        location.reload();\n      }\n    } else {\n      let errorOut = document.querySelector(".signUp_error");\n      errorOut.innerText = "Incorrect password";\n      clearField(errorOut);\n    }\n  });\n};\n//\nlet saveInfo = () => {\n  if (localStorage.getItem("logUpUser") == null) {\n    if (localStorage.getItem("loggedStatus") === "true") {\n      let user = JSON.parse(localStorage.getItem("SigUpUser"));\n      showProf(user);\n    }\n  }\n};\n\nfunction logOut(e) {\n  e.preventDefault();\n\n  localStorage.setItem("loggedStatus", "false");\n  localStorage.removeItem("SigUpUser");\n\n  if (localStorage.setItem("loggedStatus", "false")) {\n    hideCont.classList.add("show");\n    hideCont.classList.remove("hide");\n    showProfileInfo.classList.add("hide");\n    showProfileInfo.classList.remove("show");\n\n    Array.from(profileAvaUrl).map(url => {\n      if (url.dataset.id === "4") {\n        url.src = "https://cdn3.iconfinder.com/data/icons/watchify-v1-0-32px/32/lock-512.png";\n      }\n    });\n  }\n  location.reload();\n}\nlet oldUsers = JSON.parse(localStorage.getItem("newUser"));\nfunction setUrlInProfile(e) {\n  e.preventDefault();\n  let dataStorage = localStorage.getItem("SigUpUser");\n  let storageObject = JSON.parse(dataStorage);\n  let arr = [];\n  arr.push(storageObject);\n  arr.map(item => {\n    item.avatarUrl;\n    let inpAvatarProfile = document.getElementById("setAvatar");\n    let errorAvatar = document.getElementById("errorAvatarUrl");\n\n    if (!/(http(s?):)([/|.|\\w|\\s|-])*\\.(?:jpg|gif|png)/gi.test(inpAvatarProfile.value) || inpAvatarProfile.value === "") {\n      errorAvatar.innerHTML = "Incorrect URL";\n      clearField(errorAvatar);\n    } else {\n      let data = [];\n      if (oldUsers !== null) {\n        data = [...oldUsers, item];\n        array = data.sort((a, b) => {\n          if (a.mail === b.mail) {\n            return -1;\n          } else {\n            return 1;\n          }\n        }).reduce(function (arr, el) {\n          if (!arr.length || arr[arr.length - 1].mail != el.mail) {\n            arr.push(el);\n          }\n          return arr;\n        }, []);\n        data = [...array];\n      } else {\n        data = [item];\n      }\n\n      item.avatarUrl = inpAvatarProfile.value;\n      Array.from(profileAvaUrl).map(url => {\n        url.src = inpAvatarProfile.value;\n      });\n\n      localStorage.setItem("newUser", JSON.stringify(data));\n      localStorage.setItem("SigUpUser", JSON.stringify(item));\n    }\n  });\n}\n\nsetUrlBtn.addEventListener("click", setUrlInProfile);\nsignUpBtn.addEventListener("click", login);\nlogOutBtn.addEventListener("click", logOut);\nsaveInfo();\n\n\n/* harmony default export */ var signUp = (showProf);\n// CONCATENATED MODULE: ./src/profile/registration.js\n\n\nlet newArr = [];\n\nlet registrBtn = document.getElementById("registr");\nlet inpName = document.getElementById("login");\nlet inpLast = document.getElementById("last");\nlet inpEmail = document.getElementById("email");\nlet inpPass = document.getElementById("pass");\nlet inpConfirmPass = document.getElementById("confirm_pass");\nlet registration_errorOut = document.getElementById("error_form");\nlet succesOut = document.getElementById("succesRegistr");\n\nlet registration_array = [];\n\nlet arrUsers = [];\n\nlet clearField = el => {\n  setInterval(() => {\n    el.innerText = "";\n  }, 3000);\n};\nlet clearInp = input => {\n  setInterval(() => {\n    input.classList.remove("error_input");\n  }, 3000);\n};\n\nclass Registration {\n  constructor(name, last, email, password) {\n    this.name = name;\n    this.last = last;\n    this.mail = email;\n    this.password = password;\n    this.avatarUrl = "default";\n    if (this.avatarUrl === "default") {\n      this.setUrl();\n    }\n    this.loggedStatus = false;\n    this.authorised = false;\n\n    this.validation();\n    if (this.validation() === true) {\n      arrUsers.push(this);\n      inpName.value = "";\n      inpPass.value = "";\n      inpConfirmPass.value = "";\n    }\n    if (arrUsers.length > 0) {\n      newArr = arrUsers.sort((a, b) => {\n        if (a.mail === b.mail) {\n          return -1;\n        } else {\n          return 1;\n        }\n      }).reduce(function (arr, el) {\n        if (!arr.length || arr[arr.length - 1].mail != el.mail) {\n          arr.push(el);\n        }\n        return arr;\n      }, []);\n      // console.log(newArr)\n    }\n  }\n  validation() {\n    if (this.name === "" || this.name.length < 5) {\n      inpName.classList.add("error_input");\n\n      registration_errorOut.innerHTML = `Incorrect name`;\n      clearField(registration_errorOut);\n      clearInp(inpName);\n      inpName.value = "";\n\n      return false;\n    } else if (!/(\\b\\w*)@(\\w+\\.\\w+\\b)/.test(this.mail)) {\n      inpEmail.classList.add("error_input");\n      registration_errorOut.innerHTML = `Incorrect email`;\n      clearField(registration_errorOut);\n      clearInp(inpEmail);\n      inpEmail.value = "";\n      return false;\n    } else if (this.password.length < 5 || this.password !== inpConfirmPass.value) {\n      inpPass.classList.add("error_input");\n      inpConfirmPass.classList.add("error_input");\n      registration_errorOut.innerHTML = `Incorrect password`;\n      clearField(registration_errorOut);\n      clearInp(inpPass);\n      inpPass.value = "";\n      inpConfirmPass.value = "";\n\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  setUrl() {\n    this.avatarUrl = "https://cdn4.iconfinder.com/data/icons/essential-app-2/16/user-avatar-human-admin-login-512.png";\n  }\n}\n\nlet registration_oldUsers = JSON.parse(localStorage.getItem("newUser"));\nlet data = [];\nlet uniqueUser = (arr1, arr2) => {\n  if (registration_oldUsers !== null) {\n    data = [...arr1, ...arr2];\n    registration_array = data.sort((a, b) => {\n      if (a.mail === b.mail) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }).reduce(function (arr, el) {\n      if (!arr.length || arr[arr.length - 1].mail != el.mail) {\n        arr.push(el);\n      }\n      return arr;\n    }, []);\n    data = [...registration_array];\n  } else {\n    data = [...arr2];\n  }\n};\n\nlet createUser = e => {\n  e.preventDefault();\n  let usr = new Registration(inpName.value, inpLast.value, inpEmail.value, inpPass.value);\n  uniqueUser(registration_oldUsers, newArr);\n  if (usr.authorised !== data[0].authorised) {\n    registration_errorOut.innerText = "This email is already registered";\n    clearField(succesOut);\n    inpEmail.value = "";\n    clearField(registration_errorOut);\n  } else {\n    localStorage.setItem("loggedStatus", "true");\n    usr.authorised = true;\n    signUp(usr);\n    location.reload();\n  }\n  localStorage.setItem("newUser", JSON.stringify(data));\n  data.map(item => {\n    item.loggedStatus = true;\n  });\n};\n// localStorage.setItem(\'loggedStatus\', \'true\');\n\nregistrBtn.addEventListener("click", createUser);\n\n// CONCATENATED MODULE: ./src/profile/index.js\n\n\n// CONCATENATED MODULE: ./src/search/createNode.js\nconst createNode = (item, name, zid) => {\n  let elem = document.createElement(item);\n  elem.innerHTML = name;\n  if (zid !== undefined) {\n    elem.dataset.id = zid;\n  }\n  return elem;\n};\n\n/* harmony default export */ var search_createNode = (createNode);\n// CONCATENATED MODULE: ./src/search/search.js\n\n\nconst SearchFunc = (model, feed) => {\n  let s, obj, uniqueArr, inp_search, inp_val, btn_search, result_search, a, block_overlay, result_array, wr_posts;\n\n  inp_search = document.getElementById("inp_search");\n  result_search = document.getElementById("result_search");\n  a = result_search.getElementsByTagName("a");\n  block_overlay = document.getElementById("block_overlay");\n\n  inp_search.addEventListener("input", e => {\n    e.preventDefault();\n\n    result_search.style.visibility = "visible";\n    result_search.style.opacity = "1";\n    block_overlay.style.display = "block";\n    result_search.innerHTML = null;\n\n    inp_val = e.target.value.toLowerCase();\n    result_array = model.filter(item => {\n      if (item.tags.includes(inp_val)) {\n        return item;\n      }\n      if (item.name.toLowerCase().includes(inp_val)) {\n        return item;\n      }\n    });\n\n    result_array.map(item => {\n      if (item.tags.includes(inp_val)) {\n        a = search_createNode("a", item.tags, item.id);\n\n        a.onclick = e => {\n          let click_item_id = item.id;\n          document.querySelector(\'.tab_content[data-id="1"]\').classList.add("show");\n          document.querySelector(\'.tab_content[data-id="2"]\').classList.remove("show");\n          result_search.innerHTML = null;\n          result_search.style.visibility = null;\n          result_search.style.opacity = null;\n          block_overlay.style.display = null;\n\n          feed.renderPost(click_item_id);\n        };\n\n        a.style.cursor = "pointer";\n        result_search.appendChild(a);\n      }\n      if (item.name.includes(inp_val)) {\n        a = search_createNode("a", item.name, item.id);\n\n        a.onclick = e => {\n          let click_item_id = item.id;\n          document.querySelector(\'.tab_content[data-id="1"]\').classList.add("show");\n          document.querySelector(\'.tab_content[data-id="2"]\').classList.remove("show");\n          result_search.innerHTML = null;\n          result_search.style.visibility = null;\n          result_search.style.opacity = null;\n          block_overlay.style.display = null;\n\n          feed.renderPost(click_item_id);\n        };\n\n        a.style.cursor = "pointer";\n        result_search.appendChild(a);\n      }\n    });\n  });\n\n  block_overlay.addEventListener("click", e => {\n    e.preventDefault();\n    result_search.innerHTML = null;\n    result_search.style.visibility = null;\n    result_search.style.opacity = null;\n    block_overlay.style.display = null;\n  });\n};\n\n/* harmony default export */ var search = (SearchFunc);\n// CONCATENATED MODULE: ./src/search/tags.js\n\n\nconst TagsPage = (model, feed) => {\n  let a, result_array, wr_tags;\n\n  wr_tags = document.getElementById("tags");\n  a = wr_tags.getElementsByTagName("a");\n\n  let xTags = [];\n  model.map(item => {\n    item.tags.map(tag => xTags.push(tag));\n  });\n  const filterUnique = (val, ind, elem) => elem.indexOf(val) === ind;\n  result_array = xTags.filter(filterUnique);\n\n  wr_tags.innerHTML = null;\n\n  result_array.map(item => {\n    a = search_createNode("a", item);\n\n    a.onclick = e => {\n      let serachRes = model.filter(post => {\n        return post.tags.some(tag => tag === item);\n      });\n      serachRes = serachRes.map(post => post.id);\n\n      feed.renderPost(serachRes);\n\n      document.querySelector(\'.tab_content[data-id="1"]\').classList.toggle("show");\n      document.querySelector(\'.tab_content[data-id="3"]\').classList.toggle("show");\n    };\n\n    a.style.cursor = "pointer";\n    wr_tags.appendChild(a);\n  });\n};\n\n/* harmony default export */ var tags = (TagsPage);\n// CONCATENATED MODULE: ./src/search/index.js\n\n\n\n\n\nlet search_feed = new feed_Feed();\nlet search_model;\nsearch_feed.getPosts().then(res => {\n  search_model = search_feed.posts.map(old => {\n    return {\n      id: old.id,\n      name: `${old.author.firstName} ${old.author.lastName}`,\n      tags: old.tags.map(item => item.toLowerCase())\n    };\n  });\n  search(search_model, search_feed);\n  tags(search_model, search_feed);\n});\n// CONCATENATED MODULE: ./src/tabs/tabs.js\nlet tab_container = document.getElementById("tab_container");\nlet profAvatar = document.getElementById("profAvat");\n\nlet tabs_arr = Array.from(tab_container.children); // refactor collection of children tab_container to array\n\nlet tabHandler = tabs_arr.map(item => {\n  let curPos = item.dataset.id; // set current position of item\n  item.addEventListener("click", e => {\n    e.preventDefault();\n\n    let tab_content = document.querySelectorAll(".tab_content"); // get all block with class tab_content\n    let arrTabContent = Array.from(tab_content); // refactor collection of tab_content to array\n\n    //this function show content if data-attribute id equals between tab_container.children and tab_content\n    arrTabContent.map(tab => {\n      if (item.dataset.id === tab.dataset.id) {\n        tab.classList.add("show");\n      } else {\n        tab.classList.remove("show");\n        tab.classList.add("hide");\n      }\n    });\n    // this block add class \'active\' for chosen element and remove class for previous\n    tabs_arr.map(activeLine => {\n      activeLine.classList.remove("active");\n      tabs_arr[curPos - 1].classList.add("active");\n    });\n  });\n  profAvatar.addEventListener("click", e => {\n    let tab_content = document.querySelectorAll(".tab_content");\n    let arrTabContent = Array.from(tab_content);\n    arrTabContent.map(tab => {\n      if (profAvatar.dataset.id === tab.dataset.id) {\n        tab.classList.add("show");\n      } else {\n        tab.classList.remove("show");\n        tab.classList.add("hide");\n      }\n    });\n    tabs_arr.map(activeLine => {\n      activeLine.classList.remove("active");\n      tabs_arr[curPos - 1].classList.add("active");\n    });\n  });\n});\n\n/* harmony default export */ var tabs = (tabHandler);\n// CONCATENATED MODULE: ./src/tabs/index.js\n\n// CONCATENATED MODULE: ./src/index.js\n\n\n\n\n\n\nconst src_feed = new feed_Feed();\n\nlet btn = document.createElement("input");\nbtn.type = "button";\nbtn.value = "Show More";\nbtn.addEventListener("click", () => src_feed.showPosts());\ndocument.getElementById("posts").appendChild(btn);\n\ndocument.addEventListener("DOMContentLoaded", async () => {\n  await src_feed.getPosts();\n\n  // feed.renderPost(["5b3a64a948208773858a50f9", "5b3a64a9ba5e67189b095c96", "5b3a64a9fe1844d6922eecd6"]);\n  src_feed.showPosts();\n});\n\n// feed.getPosts();  скачує всі наші пости\n// feed.showPost(); показує перші 5 постів, а при повторному виклиці показує наступці 5\n// feed.renderPost(); приймає id або масив id і виводить на екран//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvZmVlZC9wb3N0LmpzPzcyZWYiLCJ3ZWJwYWNrOi8vL3NyYy9mZWVkL2ZlZWQuanM/ZmZhNiIsIndlYnBhY2s6Ly8vc3JjL2NhbGVuZGFyL2luZGV4LmpzP2RlNzkiLCJ3ZWJwYWNrOi8vL3NyYy9wcm9maWxlL3NpZ25VcC5qcz83OWJjIiwid2VicGFjazovLy9zcmMvcHJvZmlsZS9yZWdpc3RyYXRpb24uanM/NzdlZiIsIndlYnBhY2s6Ly8vc3JjL3Byb2ZpbGUvaW5kZXguanM/OGYwYSIsIndlYnBhY2s6Ly8vc3JjL3NlYXJjaC9jcmVhdGVOb2RlLmpzPzA3MmIiLCJ3ZWJwYWNrOi8vL3NyYy9zZWFyY2gvc2VhcmNoLmpzP2I4MTgiLCJ3ZWJwYWNrOi8vL3NyYy9zZWFyY2gvdGFncy5qcz9jNTUwIiwid2VicGFjazovLy9zcmMvc2VhcmNoL2luZGV4LmpzPzc2YWMiLCJ3ZWJwYWNrOi8vL3NyYy90YWJzL3RhYnMuanM/MDU1YyIsIndlYnBhY2s6Ly8vc3JjL2luZGV4LmpzPzEyZDUiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFBvc3Qge1xuICBjb25zdHJ1Y3Rvcihtb2RlbCkge1xuICAgIGNvbnN0IHsgaWQsIGF1dGhvciwgcG9zdCwgZGF0ZSwgbGlrZXMsIGNvbW1lbnRzLCB0YWdzIH0gPSBtb2RlbDtcblxuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmF1dGhvciA9IGF1dGhvcjtcbiAgICB0aGlzLnBvc3QgPSBwb3N0O1xuICAgIHRoaXMuZGF0ZSA9IGRhdGU7XG4gICAgdGhpcy5saWtlcyA9IGxpa2VzO1xuXG4gICAgdGhpcy5jb21tZW50cyA9IGNvbW1lbnRzO1xuICAgIHRoaXMuc2hvd0NvbW1lbnRzID0gZmFsc2U7XG5cbiAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuXG4gICAgdGhpcy5hZGRMaWtlID0gdGhpcy5hZGRMaWtlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hZGRDb21tZW50ID0gdGhpcy5hZGRDb21tZW50LmJpbmQodGhpcyk7XG4gICAgdGhpcy5yZW5kZXIgPSB0aGlzLnJlbmRlci5iaW5kKHRoaXMpO1xuICAgIHRoaXMuc2hvd0FsbENvbW1lbnRzID0gdGhpcy5zaG93QWxsQ29tbWVudHMuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGFkZExpa2UoKSB7XG4gICAgdGhpcy5saWtlcysrO1xuICB9XG5cbiAgYWRkQ29tbWVudChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmICghZS50YXJnZXQuZWxlbWVudHMuY29tbWVudC52YWx1ZSkgcmV0dXJuO1xuICAgIC8vIHtcbiAgICAvLyAgICAgYXV0aG9yOiB7IGZpcnN0LCBsYXN0Li4uIH0sXG4gICAgLy8gICAgIHRleHQ6ICd0ZXh0JyxcbiAgICAvLyB9XG4gICAgdGhpcy5jb21tZW50cy5wdXNoKHtcbiAgICAgIGF1dGhvcjoge1xuICAgICAgICBhdmF0YXJVcmw6IFwiaHR0cDovL3BsYWNlaG9sZC5pdC8zMngzMlwiLFxuICAgICAgICBlbWFpbDogXCJcIixcbiAgICAgICAgZmlyc3ROYW1lOiBlLnRhcmdldC5lbGVtZW50cy51c2VyX25hbWUudmFsdWUsXG4gICAgICAgIGd1aWQ6IFwiXCIsXG4gICAgICAgIGxhc3ROYW1lOiBcIlwiLFxuICAgICAgICByYW5rOiAwXG4gICAgICB9LFxuICAgICAgdGV4dDogZS50YXJnZXQuZWxlbWVudHMuY29tbWVudC52YWx1ZVxuICAgIH0pO1xuXG4gICAgbGV0IGNvbW1lbnRUZW1wbGF0ZSA9IGA8ZGl2IGNsYXNzPVwiY29tbWVudExpc3RcIj5cbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCJudGhfY29tbWVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj4ke2UudGFyZ2V0LmVsZW1lbnRzLnVzZXJfbmFtZS52YWx1ZX08L2I+PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHA+JHtlLnRhcmdldC5lbGVtZW50cy5jb21tZW50LnZhbHVlfTwvcD48L2JyPlxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuXG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChgcG9zdF8ke3RoaXMuaWR9YClcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmFsbF9jb21tZW50c1wiKS5pbm5lckhUTUwgKz0gY29tbWVudFRlbXBsYXRlO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoYHBvc3RfJHt0aGlzLmlkfWApXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jb21tZW50c190ZXh0XCIpLmlubmVySFRNTCA9IGBBbGwgY29tbWVudHMgKCR7XG4gICAgICB0aGlzLmNvbW1lbnRzLmxlbmd0aFxuICAgIH0pYDtcblxuICAgIGUudGFyZ2V0LmVsZW1lbnRzLmNvbW1lbnQudmFsdWUgPSBcIlwiO1xuICB9XG5cbiAgc2hvd0FsbENvbW1lbnRzKCkge1xuICAgIGlmICh0aGlzLnNob3dDb21tZW50cykge1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKGBwb3N0XyR7dGhpcy5pZH1gKVxuICAgICAgICAucXVlcnlTZWxlY3RvcihcIi5hbGxfY29tbWVudHNcIikuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHRoaXMuc2hvd0NvbW1lbnRzID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvd0NvbW1lbnRzID0gdHJ1ZTtcbiAgICAgIGxldCBuZXdBcnJDb21tID0gdGhpcy5jb21tZW50cy5tYXAoY29tbWVudCA9PiB7XG4gICAgICAgIGNvbW1lbnQgPSBgPGRpdiBjbGFzcz1cImNvbW1lbnRMaXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwibnRoX2NvbW1lbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGI+JHtjb21tZW50LmF1dGhvci5maXJzdE5hbWV9ICR7XG4gICAgICAgICAgY29tbWVudC5hdXRob3IubGFzdE5hbWVcbiAgICAgICAgfTwvYj48L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48ZW0+JHtjb21tZW50LnRleHR9PC9lbT48L3A+PC9icj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnQ7XG4gICAgICB9KTtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChgcG9zdF8ke3RoaXMuaWR9YClcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuYWxsX2NvbW1lbnRzXCIpLmlubmVySFRNTCA9IG5ld0FyckNvbW0uam9pbihcIlxcblwiKTtcbiAgICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChgcG9zdF8ke3RoaXMuaWR9YClcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY29tbWVudHNfdGV4dFwiKS5pbm5lckhUTUwgPSBgQWxsIGNvbW1lbnRzICgke1xuICAgICAgICB0aGlzLmNvbW1lbnRzLmxlbmd0aFxuICAgICAgfSlgO1xuICAgIH1cbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBsZXQgY3VycmVudFVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiU2lnVXBVc2VyXCIpKTtcblxuICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGRpdi5pbm5lckhUTUwgPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwb3N0XCIgaWQ9XCJwb3N0XyR7dGhpcy5pZH1cIj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlcl9wb3N0XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVzZXJfYXZhdGFyXCIgdGl0bGU9XCJhdmF0YXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt0aGlzLmF1dGhvci5hdmF0YXJVcmx9XCI+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid3JhcF9kYXRlX25hbWVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1c2VyX25hbWVcIj4ke3RoaXMuYXV0aG9yLmZpcnN0TmFtZX0gJHtcbiAgICAgIHRoaXMuYXV0aG9yLmxhc3ROYW1lXG4gICAgfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ1c2VyX2RhdGVcIj4ke3RoaXMuZGF0ZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1haW5faW1nX3Bvc3RcIj5cbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7dGhpcy5wb3N0LmltYWdlVXJsfVwiIGFsdD1cIlwiPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaWtlc1wiPlxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJfYWRkTGlrZVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxpa2VfY291bnRcIj7imaU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGlrZV90ZXh0XCI+JHt0aGlzLmxpa2VzfSBMaWtlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRhZ3NcIj5cbiAgICAgICAgICAgICAgICAke3RoaXMudGFnc1xuICAgICAgICAgICAgICAgICAgLm1hcCh0YWcgPT4gYDxhIGhyZWY9XCIjJHt0YWd9XCI+IyR7dGFnfTwvYT5gKVxuICAgICAgICAgICAgICAgICAgLmpvaW4oXCJcXG5cIil9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndyYXBfbWFpbl90ZXh0XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtYWluX3RleHRcIj4ke3RoaXMucG9zdC5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZvb3Rlcl9wb3N0XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjb21tZW50c190ZXh0XCI+QWxsIGNvbW1lbnRzICgke1xuICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50cy5sZW5ndGhcbiAgICAgICAgICAgICAgICB9KTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWxsX2NvbW1lbnRzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgJHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gYDxmb3JtIGNsYXNzPVwiY29tbWVudF9mb3JtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBoaWRkZW4gbmFtZT1cInVzZXJfbmFtZVwiIHZhbHVlPVwiJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VXNlci5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gJHtjdXJyZW50VXNlci5sYXN0fVwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IG5hbWU9XCJjb21tZW50XCIgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIldyaXRlIHlvdXIgY29tbWVudC4uLlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJzdWJtaXRcIiB0aXRsZT1cInNlbmRcIiBjbGFzcz1cIl9hZGRDb21tZW50XCI+ID4gPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9mb3JtPmBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmA7XG5cbiAgICBsZXQgX2FkZExpa2UgPSBkaXYucXVlcnlTZWxlY3RvcihcIi5fYWRkTGlrZVwiKTtcbiAgICBsZXQgc2hvd0FsbENvbW1lbnRzID0gZGl2LnF1ZXJ5U2VsZWN0b3IoXCIuY29tbWVudHNfdGV4dFwiKTtcbiAgICBpZiAoY3VycmVudFVzZXIgIT09IG51bGwpIHtcbiAgICAgIGxldCBjb21tZW50X2Zvcm0gPSBkaXYucXVlcnlTZWxlY3RvcihcIi5jb21tZW50X2Zvcm1cIik7XG4gICAgICBjb21tZW50X2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLmFkZENvbW1lbnQpO1xuICAgIH1cblxuICAgIHNob3dBbGxDb21tZW50cy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5zaG93QWxsQ29tbWVudHMpO1xuXG4gICAgX2FkZExpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5hZGRMaWtlKCk7XG4gICAgICBsZXQgYmxvY2sgPSAoZG9jdW1lbnRcbiAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwicG9zdF9cIiArIHRoaXMuaWQpXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmxpa2VfdGV4dFwiKS5pbm5lclRleHQgPSBgJHt0aGlzLmxpa2VzfSBsaWtlc2ApO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRpdjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgUG9zdCB9IGZyb20gXCIuL3Bvc3RcIjtcblxuY29uc3QgUE9TVFNfTElNSVQgPSA1O1xuXG5leHBvcnQgY2xhc3MgRmVlZCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMucG9zdHMgPSBbXTtcbiAgICB0aGlzLnBvc3RzTGltaXQgPSBQT1NUU19MSU1JVDtcbiAgfVxuXG4gIGFzeW5jIGdldFBvc3RzKCkge1xuICAgIC8vIFt7bW9kZWx9LCB7bW9kZWx9LCAuLi5dXG4gICAgLy8gICB8ICAgICAgICB8XG4gICAgLy8gW1Bvc3QsICAgIFBvc3QsLi4uXVxuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb2RlbHMgPSBhd2FpdCBmZXRjaChcIi4uL2RhdGEuanNvblwiKS50aGVuKHJlcyA9PiByZXMuanNvbigpKTsgLy8gW3ttb2RlbH0sIHttb2RlbH0sIC4uLl1cbiAgICAgIGNvbnN0IHBvc3RzID0gbW9kZWxzLm1hcChtb2RlbCA9PiBuZXcgUG9zdChtb2RlbCkpOyAvLyBbUG9zdCwgICAgUG9zdCwuLi5dXG5cbiAgICAgIHRoaXMucG9zdHMgPSBwb3N0cztcbiAgICB9IGNhdGNoIChlcnJvcikge31cbiAgfVxuXG4gIGZpbmRQb3N0KHBvc3RJZHMpIHtcbiAgICAvLyAxIHx8IFsxLCAyLCAzXVxuICAgIGlmIChBcnJheS5pc0FycmF5KHBvc3RJZHMpKSB7XG4gICAgICAvLyBwb3N0SWRzID0gWzEsIDIsIDNdXG4gICAgICByZXR1cm4gdGhpcy5wb3N0cy5maWx0ZXIocG9zdCA9PiBwb3N0SWRzLmluZGV4T2YocG9zdC5pZCkgPiAtMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHBvc3RJZHMgPSAxXG4gICAgICByZXR1cm4gdGhpcy5wb3N0cy5maWx0ZXIocG9zdCA9PiBwb3N0LmlkID09PSBwb3N0SWRzKTtcbiAgICB9XG4gIH1cblxuICBzaG93UG9zdHMoKSB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ3cmFwX3Bvc3RzXCIpO1xuXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IG51bGw7XG5cbiAgICB0aGlzLnBvc3RzXG4gICAgICAuZmlsdGVyKChfLCBpKSA9PiBpIDwgdGhpcy5wb3N0c0xpbWl0KVxuICAgICAgLmZvckVhY2gocG9zdCA9PiBjb250YWluZXIuYXBwZW5kQ2hpbGQocG9zdC5yZW5kZXIoKSkpO1xuXG4gICAgdGhpcy5wb3N0c0xpbWl0ID0gdGhpcy5wb3N0c0xpbWl0ICsgUE9TVFNfTElNSVQ7XG4gIH1cblxuICByZW5kZXJQb3N0KGlkcykge1xuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwid3JhcF9wb3N0c1wiKTtcblxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBudWxsO1xuXG4gICAgdGhpcy5maW5kUG9zdChpZHMpLmZvckVhY2gocG9zdCA9PiBjb250YWluZXIuYXBwZW5kQ2hpbGQocG9zdC5yZW5kZXIoKSkpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBGZWVkIH0gZnJvbSBcIi4uL2ZlZWRcIjtcblxubGV0IGZlZWQyID0gbmV3IEZlZWQoKTtcbmxldCBuZXdfUE9TVFM7XG5cbmZlZWQyLmdldFBvc3RzKCkudGhlbihyZXMgPT4ge1xuICBuZXdfUE9TVFMgPSBmZWVkMi5wb3N0cy5tYXAob2xkID0+IHtcbiAgICBsZXQgcG9zdERhdGUgPSBuZXcgRGF0ZShvbGQuZGF0ZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQ6IG9sZC5pZCxcbiAgICAgIGRhdGU6IHtcbiAgICAgICAgdGltZTogW3Bvc3REYXRlLmdldE1vbnRoKCksIHBvc3REYXRlLmdldERhdGUoKSwgcG9zdERhdGUuZ2V0RnVsbFllYXIoKV0sXG4gICAgICAgIG1zOiBwb3N0RGF0ZS5nZXRUaW1lKClcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgY3JlYXRlQ2FsKGNhbF9jdXJyZW50X2RhdGUuZ2V0TW9udGgoKSwgY2FsX2N1cnJlbnRfZGF0ZS5nZXRGdWxsWWVhcigpKTtcbn0pO1xuXG5jb25zdCBQT1NUUyA9IFtcbiAge1xuICAgIGlkOiAxLFxuICAgIG5hbWU6IFwicG9zdCBkb2dcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNiwgMywgMjAxOF1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogNjcsXG4gICAgbmFtZTogXCJwb3N0IGRvZ1wiLFxuICAgIGRhdGU6IHtcbiAgICAgIHRpbWU6IFs2LCAzLCAyMDE4XVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiA2NyxcbiAgICBuYW1lOiBcInBvc3QgZG9nXCIsXG4gICAgZGF0ZToge1xuICAgICAgdGltZTogWzYsIDMsIDIwMThdXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IDY3LFxuICAgIG5hbWU6IFwicG9zdCBkb2dcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNiwgMywgMjAxOF1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogNjcsXG4gICAgbmFtZTogXCJwb3N0IGRvZ1wiLFxuICAgIGRhdGU6IHtcbiAgICAgIHRpbWU6IFs2LCAzLCAyMDE4XVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiA2NyxcbiAgICBuYW1lOiBcInBvc3QgZG9nXCIsXG4gICAgZGF0ZToge1xuICAgICAgdGltZTogWzYsIDMsIDIwMThdXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IDY3LFxuICAgIG5hbWU6IFwicG9zdCBkb2dcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNiwgMywgMjAxOF1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICBuYW1lOiBcInBvc3QgZG9nXCIsXG4gICAgZGF0ZToge1xuICAgICAgdGltZTogWzYsIDQsIDIwMThdXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IDMsXG4gICAgbmFtZTogXCJwb3N0IGRvZ1wiLFxuICAgIGRhdGU6IHtcbiAgICAgIHRpbWU6IFs2LCAxNywgMjAxOF1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogNDMsXG4gICAgbmFtZTogXCJwb3N0IGRvZ1wiLFxuICAgIGRhdGU6IHtcbiAgICAgIHRpbWU6IFs2LCAyMiwgMjAxOF1cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogMjIsXG4gICAgbmFtZTogXCJwb3N0IGZpc2hcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNiwgMjUsIDIwMThdXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IDEyLFxuICAgIG5hbWU6IFwicG9zdCBkb2dcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNiwgMTcsIDIwMThdXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6IDYsXG4gICAgbmFtZTogXCJwb3N0IGRvZ1wiLFxuICAgIGRhdGU6IHtcbiAgICAgIHRpbWU6IFs2LCAxNywgMjAxN11cbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogOCxcbiAgICBuYW1lOiBcInBvc3QgZG9nXCIsXG4gICAgZGF0ZToge1xuICAgICAgdGltZTogWzcsIDE3LCAyMDE4XVxuICAgIH1cbiAgfSxcbiAge1xuICAgIGlkOiA5LFxuICAgIG5hbWU6IFwicG9zdCBkb2dcIixcbiAgICBkYXRlOiB7XG4gICAgICB0aW1lOiBbNywgMTcsIDIwMThdXG4gICAgfVxuICB9XG5dO1xuY29uc3QgY2FsX2RheXNfbGFiZWxzID0gW1wi0JLRgVwiLCBcItCf0L1cIiwgXCLQktGCXCIsIFwi0KHRgFwiLCBcItCn0YJcIiwgXCLQn9GCXCIsIFwi0KHQsVwiXTtcbmNvbnN0IGNhbF9tb250aHNfbGFiZWxzID0gW1xuICBcItCv0L3QstCw0YDRjFwiLFxuICBcItCk0LXQstGA0LDQu9GMXCIsXG4gIFwi0JzQsNGA0YJcIixcbiAgXCLQkNC/0YDQtdC70YxcIixcbiAgXCLQnNCw0LlcIixcbiAgXCLQmNGO0L3RjFwiLFxuICBcItCY0Y7Qu9GMXCIsXG4gIFwi0JDQstCz0YPRgdGCXCIsXG4gIFwi0KHQtdC90YLRj9Cx0YDRjFwiLFxuICBcItCe0LrRgtGP0LHRgNGMXCIsXG4gIFwi0J3QvtGP0LHRgNGMXCIsXG4gIFwi0JTQtdC60LDQsdGA0YxcIlxuXTtcblxuLy8gdGhlc2UgYXJlIHRoZSBkYXlzIG9mIHRoZSB3ZWVrIGZvciBlYWNoIG1vbnRoLCBpbiBvcmRlclxuY29uc3QgY2FsX2RheXNfaW5fbW9udGggPSBbMzEsIDI4LCAzMSwgMzAsIDMxLCAzMCwgMzEsIDMxLCAzMCwgMzEsIDMwLCAzMV07XG5jb25zdCBjYWxfY3VycmVudF9kYXRlID0gbmV3IERhdGUoKTtcblxuY2xhc3MgQ2FsZW5kYXIge1xuICBjb25zdHJ1Y3Rvcihtb250aCwgeWVhcikge1xuICAgIHRoaXMubW9udGggPVxuICAgICAgaXNOYU4obW9udGgpIHx8IG1vbnRoID09IG51bGwgPyBjYWxfY3VycmVudF9kYXRlLmdldE1vbnRoKCkgOiBtb250aDtcbiAgICB0aGlzLnllYXIgPVxuICAgICAgaXNOYU4oeWVhcikgfHwgeWVhciA9PSBudWxsID8gY2FsX2N1cnJlbnRfZGF0ZS5nZXRGdWxsWWVhcigpIDogeWVhcjtcbiAgICB0aGlzLmh0bWwgPSBcIlwiO1xuICAgIHRoaXMucmVuZGVyQ2FsZW5kYXIgPSB0aGlzLnJlbmRlckNhbGVuZGFyO1xuICB9XG5cbiAgZ2VuZXJhdGVPYmpPZklkcyhmaXJzdERheSwgc3RhcnRpbmdEYXksIG1vbnRoTGVuZ3RoKSB7XG4gICAgbGV0IGRheXNPYmogPSB7fTsgLy/RjdGC0L7RgiDQvtCx0YrQtdC60YIg0LLQtdGA0L3QtdGC0YzRgdGPINCyINC60L7QvdGG0LUg0L7QsdGA0LDQsdC+0YLQutC4INC80LXRgtC+0LTQsCwg0L/QvtGN0YLQvtC80YMg0L3QtdC+0LHRhdC+0LTQuNC80L4g0L3QsNC30LLQsNGC0Ywg0L/Qvi3Rh9C10LvQvtCy0LXRh9C10YHQutC4XG4gICAgbGV0IG1vbnRoTmFtZSA9IGNhbF9tb250aHNfbGFiZWxzW3RoaXMubW9udGhdO1xuICAgIGxldCBkYXkgPSAxO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCA5OyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IDY7IGorKykge1xuICAgICAgICBuZXdfUE9TVFMubWFwKHBvc3REYXkgPT4ge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHBvc3REYXkuZGF0ZS50aW1lWzBdID09PSB0aGlzLm1vbnRoICYmXG4gICAgICAgICAgICBwb3N0RGF5LmRhdGUudGltZVsxXSA9PT0gZGF5XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoIWRheXNPYmpbZGF5XSkgZGF5c09ialtkYXldID0gW107XG4gICAgICAgICAgICBkYXlzT2JqW2RheV0ucHVzaChwb3N0RGF5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoZGF5IDw9IG1vbnRoTGVuZ3RoICYmIChpID4gMCB8fCBqID49IHN0YXJ0aW5nRGF5KSkgZGF5Kys7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkYXlzT2JqO1xuICB9XG5cbiAgZ2V0SWRzQnlEYXRlKGRheXMsIGRheSkge1xuICAgIHJldHVybiBkYXlzLm1hcChhID0+IGEuaWQpO1xuICB9XG5cbiAgcmVuZGVyQ2FsZW5kYXIoZmlyc3REYXksIHN0YXJ0aW5nRGF5LCBtb250aExlbmd0aCkge1xuICAgIGxldCBkYXRhT2JqID0gdGhpcy5nZW5lcmF0ZU9iak9mSWRzKGZpcnN0RGF5LCBzdGFydGluZ0RheSwgbW9udGhMZW5ndGgpO1xuICAgIGxldCBmaXJzdERheUluZGV4ID0gbmV3IERhdGUoZmlyc3REYXkpLmdldERheSgpO1xuICAgIGxldCBtb250aE5hbWUgPSBjYWxfbW9udGhzX2xhYmVsc1t0aGlzLm1vbnRoXTtcbiAgICBsZXQgaHRtbCA9ICc8dGFibGUgY2xhc3M9XCJjYWxlbmRhci10YWJsZVwiPic7XG4gICAgaHRtbCArPSAnPHRyPjx0aCBjbGFzcz1cImhlYWRlcl9yb3dcIiBjb2xzcGFuPVwiN1wiPic7XG4gICAgaHRtbCArPVxuICAgICAgJzxidXR0b24gaWQ9XCJsZWZ0LWJ0blwiIGNsYXNzPVwiYXJyb3dfYnRuXCI+PDwvYnV0dG9uPiAnICtcbiAgICAgIFwiPHNwYW4gY2xhc3M9J21vbnRoTmFtZSc+XCIgK1xuICAgICAgbW9udGhOYW1lICtcbiAgICAgIFwiIFwiICtcbiAgICAgIHRoaXMueWVhciArXG4gICAgICBcIjwvc3Bhbj5cIiArXG4gICAgICAnPGJ1dHRvbiBjbGFzcz1cImFycm93X2J0blwiIGlkPVwicmlnaHQtYnRuXCI+PjwvYnV0dG9uPic7XG4gICAgaHRtbCArPSBcIjwvdGg+PC90cj5cIjtcbiAgICBodG1sICs9ICc8dHIgY2xhc3M9XCJjYWxlbmRhci1oZWFkZXJcIj4nO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gNjsgaSsrKSB7XG4gICAgICBodG1sICs9ICc8dGQgY2xhc3M9XCJjYWxlbmRhci1oZWFkZXItZGF5XCI+JztcbiAgICAgIGh0bWwgKz0gY2FsX2RheXNfbGFiZWxzW2ldO1xuICAgICAgaHRtbCArPSBcIjwvdGQ+XCI7XG4gICAgfVxuICAgIGh0bWwgKz0gXCI8L3RyPjx0cj5cIjtcbiAgICAvLyBmaWxsIGluIHRoZSBkYXlzXG4gICAgbGV0IGRheSA9IDE7XG5cbiAgICBpZiAoZGF5ID09PSAxICYmIGZpcnN0RGF5SW5kZXggIT09IDApIHtcbiAgICAgIGZvciAobGV0IG8gPSAwOyBvIDwgZmlyc3REYXlJbmRleDsgbysrKSB7XG4gICAgICAgIGh0bWwgKz0gXCI8dGQ+PC90ZD5cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gdGhpcyBsb29wIGlzIGZvciBpcyB3ZWVrcyAocm93cynQsFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgOTsgaSsrKSB7XG4gICAgICAvLyB0aGlzIGxvb3AgaXMgZm9yIHdlZWtkYXlzIChjZWxscylcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDw9IDY7IGorKykge1xuICAgICAgICB2YXIgYiA9IFwiXCI7XG4gICAgICAgIG5ld19QT1NUUy5tYXAocG9zdERheSA9PiB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgcG9zdERheS5kYXRlLnRpbWVbMF0gPT09IHRoaXMubW9udGggJiZcbiAgICAgICAgICAgIHBvc3REYXkuZGF0ZS50aW1lWzFdID09PSBkYXlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGIgPSBgZGF0YS1wb3N0cz1cIlske3RoaXMuZ2V0SWRzQnlEYXRlKGRhdGFPYmpbZGF5XSwgZGF5KX1dXCJgO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGRheSA8PSBtb250aExlbmd0aCAmJiAoaSA+IDAgfHwgaiA+PSBzdGFydGluZ0RheSkpIHtcbiAgICAgICAgICBodG1sICs9IGA8dGQgY2xhc3M9XCJjYWxlbmRhci1kYXlcIiAke2J9PmAgKyBkYXk7XG4gICAgICAgICAgZGF5Kys7XG4gICAgICAgIH1cbiAgICAgICAgaHRtbCArPSBcIjwvdGQ+XCI7XG4gICAgICB9XG4gICAgICAvLyBzdG9wIG1ha2luZyByb3dzIGlmIHdlJ3ZlIHJ1biBvdXQgb2YgZGF5c1xuICAgICAgaWYgKGRheSA+IG1vbnRoTGVuZ3RoKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaHRtbCArPSBcIjwvdHI+PHRyPlwiO1xuICAgICAgfVxuICAgIH1cbiAgICBodG1sICs9IFwiPC90cj48L3RhYmxlPlwiO1xuICAgIHJldHVybiBodG1sO1xuICB9XG5cbiAgZ2VuZXJhdGVIVE1MKCkge1xuICAgIC8vIGdldCBmaXJzdCBkYXkgb2YgbW9udGhcbiAgICBsZXQgZmlyc3REYXkgPSBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGgsIDEpO1xuICAgIGxldCBzdGFydGluZ0RheSA9IGZpcnN0RGF5LmdldERheSgpO1xuICAgIC8vIGZpbmQgbnVtYmVyIG9mIGRheXMgaW4gbW9udGhcbiAgICBsZXQgbW9udGhMZW5ndGggPSBjYWxfZGF5c19pbl9tb250aFt0aGlzLm1vbnRoXTtcbiAgICAvLyBjb21wZW5zYXRlIGZvciBsZWFwIHllYXJcbiAgICBpZiAodGhpcy5tb250aCA9PSAxKSB7XG4gICAgICAvLyBGZWJydWFyeSBvbmx5IVxuICAgICAgaWYgKFxuICAgICAgICAodGhpcy55ZWFyICUgNCA9PSAwICYmIHRoaXMueWVhciAlIDEwMCAhPSAwKSB8fFxuICAgICAgICB0aGlzLnllYXIgJSA0MDAgPT0gMFxuICAgICAgKSB7XG4gICAgICAgIG1vbnRoTGVuZ3RoID0gMjk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGRvIHRoZSBoZWFkZXJcbiAgICBsZXQgY2FsZW5kYXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGNhbGVuZGFyRGl2LmlubmVySFRNTCA9IHRoaXMucmVuZGVyQ2FsZW5kYXIoXG4gICAgICBmaXJzdERheSxcbiAgICAgIHN0YXJ0aW5nRGF5LFxuICAgICAgbW9udGhMZW5ndGhcbiAgICApO1xuICAgIGxldCB0YXJnZXRJZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsZW5kYXJcIik7XG4gICAgdGFyZ2V0SWQuaW5uZXJIVE1MID0gbnVsbDtcbiAgICB0YXJnZXRJZC5hcHBlbmRDaGlsZChjYWxlbmRhckRpdik7XG4gIH1cblxuICBnZW5lcmF0ZUFyck9mTW9udGhlcygpIHtcbiAgICBsZXQgYXJyYXlPZnJlbE1vbnRoZXMgPSBuZXdfUE9TVFMubWFwKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG06IGVsZW0uZGF0ZS50aW1lWzBdLFxuICAgICAgICB5OiBlbGVtLmRhdGUudGltZVsyXSxcbiAgICAgICAgbXM6IGVsZW0uZGF0ZS5tc1xuICAgICAgfTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBnZXRVbmlxdWVPYmplY3Qobm9uVW5pcXVlQXJyYXkpIHtcbiAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9uVW5pcXVlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGN1cnJlbnRJdGVtID0gbm9uVW5pcXVlQXJyYXlbaV07XG5cbiAgICAgICAgaWYgKGlzT2JqZWN0UHJlc2VudChyZXN1bHQsIGN1cnJlbnRJdGVtKSkge1xuICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50SXRlbSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzdWx0ID0gcmVzdWx0LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEubXMgLSBiLm1zO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNPYmplY3RQcmVzZW50KGluY29tZUFycmF5LCBvYmplY3RUb1ZlcmlmeSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbmNvbWVBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY3VycmVudEl0ZW0gPSBpbmNvbWVBcnJheVtpXTtcbiAgICAgICAgaWYgKGlzU2ltaWxhcihjdXJyZW50SXRlbSwgb2JqZWN0VG9WZXJpZnkpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc1NpbWlsYXIob2JqZWN0MSwgb2JqZWN0Mikge1xuICAgICAgaWYgKG9iamVjdDEubSA9PT0gb2JqZWN0Mi5tICYmIG9iamVjdDEueSA9PT0gb2JqZWN0Mi55KSByZXR1cm4gdHJ1ZTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGdldFVuaXF1ZU9iamVjdChhcnJheU9mcmVsTW9udGhlcyk7XG4gIH1cbn1cblxubGV0IGFyck9mRGF0ZXNUb0NhbCA9IFtdO1xubGV0IGFycmF5T2ZEYXlzID0gW107XG5sZXQgY3VycmVudFBvc2l0aW9uID0gMDtcblxuZnVuY3Rpb24gY3JlYXRlQ2FsKG1vbnRoLCB5ZWFyKSB7XG4gIGxldCBjYWwgPSBuZXcgQ2FsZW5kYXIobW9udGgsIHllYXIpO1xuICBjYWwuZ2VuZXJhdGVIVE1MKCk7XG4gIGFyck9mRGF0ZXNUb0NhbCA9IGNhbC5nZW5lcmF0ZUFyck9mTW9udGhlcygpO1xuXG4gIGxldCBsZWZ0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWZ0LWJ0blwiKTtcbiAgbGV0IHJpZ2h0QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyaWdodC1idG5cIik7XG5cbiAgcmlnaHRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChjdXJyZW50UG9zaXRpb24gPCBhcnJPZkRhdGVzVG9DYWwubGVuZ3RoIC0gMSkgY3VycmVudFBvc2l0aW9uKys7XG4gICAgZWxzZSBjdXJyZW50UG9zaXRpb24gPSAwO1xuXG4gICAgbW9udGggPSBhcnJPZkRhdGVzVG9DYWxbY3VycmVudFBvc2l0aW9uXS5tO1xuICAgIHllYXIgPSBhcnJPZkRhdGVzVG9DYWxbY3VycmVudFBvc2l0aW9uXS55O1xuICAgIGNyZWF0ZUNhbChtb250aCwgeWVhcik7XG4gIH0pO1xuICBsZWZ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoY3VycmVudFBvc2l0aW9uID4gMCkge1xuICAgICAgY3VycmVudFBvc2l0aW9uLS07XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRQb3NpdGlvbiA9IGFyck9mRGF0ZXNUb0NhbC5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIG1vbnRoID0gYXJyT2ZEYXRlc1RvQ2FsW2N1cnJlbnRQb3NpdGlvbl0ubTtcbiAgICB5ZWFyID0gYXJyT2ZEYXRlc1RvQ2FsW2N1cnJlbnRQb3NpdGlvbl0ueTtcbiAgICBjcmVhdGVDYWwobW9udGgsIHllYXIpO1xuICB9KTtcbiAgY291bnRQb3N0cygpO1xufVxuXG5mdW5jdGlvbiBjb3VudFBvc3RzKCkge1xuICBsZXQgZGF5cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJ0ZFwiKTtcbiAgZGF5cy5mb3JFYWNoKGZ1bmN0aW9uKGRheSkge1xuICAgIGlmIChkYXkuZGF0YXNldC5wb3N0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBhcnJheU9mRGF5cyA9IEpTT04ucGFyc2UoZGF5LmRhdGFzZXQucG9zdHMpO1xuICAgICAgc3dpdGNoIChhcnJheU9mRGF5cy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGRheS5jbGFzc0xpc3QuYWRkKFwiZGF5LW9uZVwiKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgZGF5LmNsYXNzTGlzdC5hZGQoXCJkYXktc2l4XCIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgICBkYXkuY2xhc3NMaXN0LmFkZChcImRheS1uaW5lXCIpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZGF5LmNsYXNzTGlzdC5hZGQoXCJ0ZXN0XCIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGRheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUudGFyZ2V0LmRhdGFzZXQucG9zdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBsZXQgYXJyYXlPZklkID0gSlNPTi5wYXJzZShlLnRhcmdldC5kYXRhc2V0LnBvc3RzKTtcbiAgICAgICAgaWYgKGFycmF5T2ZJZC5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgZmVlZDIucmVuZGVyUG9zdChhcnJheU9mSWQpO1xuXG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcudGFiX2NvbnRlbnRbZGF0YS1pZD1cIjFcIl0nKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLnRhYl9jb250ZW50W2RhdGEtaWQ9XCIyXCJdJylcbiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmZWVkMi5yZW5kZXJQb3N0KGFycmF5T2ZJZFswXSk7XG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcudGFiX2NvbnRlbnRbZGF0YS1pZD1cIjFcIl0nKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLnRhYl9jb250ZW50W2RhdGEtaWQ9XCIyXCJdJylcbiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsImltcG9ydCB7IGNsZWFyRmllbGQgfSBmcm9tIFwiLi9yZWdpc3RyYXRpb25cIjtcbmxldCBhcnJheSA9IFtdO1xubGV0IHNpZ25VcEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2lnblVwXCIpO1xubGV0IGxvZ091dEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9nb3V0X2J0blwiKTtcbmxldCBzZXRVcmxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNldFVybFwiKTtcbmxldCBoaWRlQ29udCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZXJlZ1wiKTtcbmxldCBzaG93UHJvZmlsZUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZXcmFwXCIpO1xubGV0IHNpZ25VcEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduVXBfZW1haWxcIik7XG5cbmxldCBzaWduVXBQYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzaWduVXBfcGFzc3dvcmRcIik7XG5sZXQgcHJvZmlsZUF2YVVybCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvZmlsZV9BdmF0YXJcIik7XG5sZXQgY2FuY2VsQ2hhbmdlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbmxldCBhY2NlcHRDaGFuZ2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuY2FuY2VsQ2hhbmdlQnRuLmlkID0gXCJjYW5jZWxDaGFuZ2VzXCI7XG5hY2NlcHRDaGFuZ2VCdG4uaWQgPSBcImFjY2VwdENoYW5nZXNcIjtcbmxldCBzaG93UHJvZiA9IGl0ZW0gPT4ge1xuICBsZXQgc2VzU3RvciA9IEpTT04uc3RyaW5naWZ5KGl0ZW0pO1xuICBsZXQgcHJvZmlsZV9OYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9maWxlX05hbWVcIik7XG4gIGxldCBwcm9maWxlX0xhc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVfTGFzdFwiKTtcbiAgbGV0IHByb2ZpbGVfRW1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZpbGVfRW1haWxcIik7XG5cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJTaWdVcFVzZXJcIiwgc2VzU3Rvcik7XG4gIHByb2ZpbGVfTmFtZS5pbm5lckhUTUwgPSBgIE5hbWU6ICR7aXRlbS5uYW1lfWA7XG4gIGlmIChpdGVtLmxhc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIHByb2ZpbGVfTGFzdC5pbm5lckhUTUwgPSBgIExhc3Q6ICR7aXRlbS5sYXN0fWA7XG4gIH0gZWxzZSB7XG4gICAgcHJvZmlsZV9MYXN0LmlubmVySFRNTCA9IG51bGw7XG4gIH1cbiAgcHJvZmlsZV9FbWFpbC5pbm5lckhUTUwgPSBgIEVtYWlsOiAke2l0ZW0ubWFpbH1gO1xuXG4gIGhpZGVDb250LmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICBoaWRlQ29udC5jbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcbiAgc2hvd1Byb2ZpbGVJbmZvLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICBzaG93UHJvZmlsZUluZm8uY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cbiAgQXJyYXkuZnJvbShwcm9maWxlQXZhVXJsKS5tYXAodXJsID0+IHtcbiAgICB1cmwuc3JjID0gaXRlbS5hdmF0YXJVcmw7XG4gIH0pO1xufTtcbmxldCBsb2dpbiA9IGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGxldCBkYXRhU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmV3VXNlclwiKTtcbiAgbGV0IGxvZ2dlZFN0YXR1cyA9IGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibG9nZ2VkU3RhdHVzXCIsIFwidHJ1ZVwiKTtcbiAgbGV0IHN0b3JhZ2VPYmplY3QgPSBKU09OLnBhcnNlKGRhdGFTdG9yYWdlKTtcbiAgc3RvcmFnZU9iamVjdC5tYXAoaXRlbSA9PiB7XG4gICAgbGV0IHNlc1N0b3IgPSBKU09OLnN0cmluZ2lmeShpdGVtKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNpZ1VwVXNlclwiLCBzZXNTdG9yKTtcblxuICAgIGlmIChpdGVtLm1haWwgPT09IHNpZ25VcEVtYWlsLnZhbHVlICYmIGl0ZW0ucGFzc3dvcmQgPT09IHNpZ25VcFBhc3MudmFsdWUpIHtcbiAgICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIlNpZ1VwVXNlclwiKSkge1xuICAgICAgICBzaG93UHJvZihpdGVtKTtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBlcnJvck91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2lnblVwX2Vycm9yXCIpO1xuICAgICAgZXJyb3JPdXQuaW5uZXJUZXh0ID0gXCJJbmNvcnJlY3QgcGFzc3dvcmRcIjtcbiAgICAgIGNsZWFyRmllbGQoZXJyb3JPdXQpO1xuICAgIH1cbiAgfSk7XG59O1xuLy9cbmxldCBzYXZlSW5mbyA9ICgpID0+IHtcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibG9nVXBVc2VyXCIpID09IG51bGwpIHtcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsb2dnZWRTdGF0dXNcIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgICBsZXQgdXNlciA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJTaWdVcFVzZXJcIikpO1xuICAgICAgc2hvd1Byb2YodXNlcik7XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBsb2dPdXQoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsb2dnZWRTdGF0dXNcIiwgXCJmYWxzZVwiKTtcbiAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJTaWdVcFVzZXJcIik7XG5cbiAgaWYgKGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibG9nZ2VkU3RhdHVzXCIsIFwiZmFsc2VcIikpIHtcbiAgICBoaWRlQ29udC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICBoaWRlQ29udC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZVwiKTtcbiAgICBzaG93UHJvZmlsZUluZm8uY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gICAgc2hvd1Byb2ZpbGVJbmZvLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuXG4gICAgQXJyYXkuZnJvbShwcm9maWxlQXZhVXJsKS5tYXAodXJsID0+IHtcbiAgICAgIGlmICh1cmwuZGF0YXNldC5pZCA9PT0gXCI0XCIpIHtcbiAgICAgICAgdXJsLnNyYyA9XG4gICAgICAgICAgXCJodHRwczovL2NkbjMuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy93YXRjaGlmeS12MS0wLTMycHgvMzIvbG9jay01MTIucG5nXCI7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgbG9jYXRpb24ucmVsb2FkKCk7XG59XG5sZXQgb2xkVXNlcnMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibmV3VXNlclwiKSk7XG5mdW5jdGlvbiBzZXRVcmxJblByb2ZpbGUoZSkge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIGxldCBkYXRhU3RvcmFnZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiU2lnVXBVc2VyXCIpO1xuICBsZXQgc3RvcmFnZU9iamVjdCA9IEpTT04ucGFyc2UoZGF0YVN0b3JhZ2UpO1xuICBsZXQgYXJyID0gW107XG4gIGFyci5wdXNoKHN0b3JhZ2VPYmplY3QpO1xuICBhcnIubWFwKGl0ZW0gPT4ge1xuICAgIGl0ZW0uYXZhdGFyVXJsO1xuICAgIGxldCBpbnBBdmF0YXJQcm9maWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXRBdmF0YXJcIik7XG4gICAgbGV0IGVycm9yQXZhdGFyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvckF2YXRhclVybFwiKTtcblxuICAgIGlmIChcbiAgICAgICEvKGh0dHAocz8pOikoWy98LnxcXHd8XFxzfC1dKSpcXC4oPzpqcGd8Z2lmfHBuZykvZ2kudGVzdChcbiAgICAgICAgaW5wQXZhdGFyUHJvZmlsZS52YWx1ZVxuICAgICAgKSB8fFxuICAgICAgaW5wQXZhdGFyUHJvZmlsZS52YWx1ZSA9PT0gXCJcIlxuICAgICkge1xuICAgICAgZXJyb3JBdmF0YXIuaW5uZXJIVE1MID0gXCJJbmNvcnJlY3QgVVJMXCI7XG4gICAgICBjbGVhckZpZWxkKGVycm9yQXZhdGFyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IGRhdGEgPSBbXTtcbiAgICAgIGlmIChvbGRVc2VycyAhPT0gbnVsbCkge1xuICAgICAgICBkYXRhID0gWy4uLm9sZFVzZXJzLCBpdGVtXTtcbiAgICAgICAgYXJyYXkgPSBkYXRhXG4gICAgICAgICAgLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgIGlmIChhLm1haWwgPT09IGIubWFpbCkge1xuICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYXJyLCBlbCkge1xuICAgICAgICAgICAgaWYgKCFhcnIubGVuZ3RoIHx8IGFyclthcnIubGVuZ3RoIC0gMV0ubWFpbCAhPSBlbC5tYWlsKSB7XG4gICAgICAgICAgICAgIGFyci5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcnI7XG4gICAgICAgICAgfSwgW10pO1xuICAgICAgICBkYXRhID0gWy4uLmFycmF5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBbaXRlbV07XG4gICAgICB9XG5cbiAgICAgIGl0ZW0uYXZhdGFyVXJsID0gaW5wQXZhdGFyUHJvZmlsZS52YWx1ZTtcbiAgICAgIEFycmF5LmZyb20ocHJvZmlsZUF2YVVybCkubWFwKHVybCA9PiB7XG4gICAgICAgIHVybC5zcmMgPSBpbnBBdmF0YXJQcm9maWxlLnZhbHVlO1xuICAgICAgfSk7XG5cbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibmV3VXNlclwiLCBKU09OLnN0cmluZ2lmeShkYXRhKSk7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIlNpZ1VwVXNlclwiLCBKU09OLnN0cmluZ2lmeShpdGVtKSk7XG4gICAgfVxuICB9KTtcbn1cblxuc2V0VXJsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBzZXRVcmxJblByb2ZpbGUpO1xuc2lnblVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBsb2dpbik7XG5sb2dPdXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGxvZ091dCk7XG5zYXZlSW5mbygpO1xuXG5leHBvcnQgeyBzYXZlSW5mbyB9O1xuZXhwb3J0IGRlZmF1bHQgc2hvd1Byb2Y7XG4iLCJpbXBvcnQgc2hvd1Byb2YgZnJvbSBcIi4vc2lnblVwXCI7XG5cbmxldCBuZXdBcnIgPSBbXTtcblxubGV0IHJlZ2lzdHJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZ2lzdHJcIik7XG5sZXQgaW5wTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibG9naW5cIik7XG5sZXQgaW5wTGFzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFzdFwiKTtcbmxldCBpbnBFbWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZW1haWxcIik7XG5sZXQgaW5wUGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicGFzc1wiKTtcbmxldCBpbnBDb25maXJtUGFzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29uZmlybV9wYXNzXCIpO1xubGV0IGVycm9yT3V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvcl9mb3JtXCIpO1xubGV0IHN1Y2Nlc091dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3VjY2VzUmVnaXN0clwiKTtcblxubGV0IGFycmF5ID0gW107XG5cbmxldCBhcnJVc2VycyA9IFtdO1xuXG5sZXQgY2xlYXJGaWVsZCA9IGVsID0+IHtcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGVsLmlubmVyVGV4dCA9IFwiXCI7XG4gIH0sIDMwMDApO1xufTtcbmxldCBjbGVhcklucCA9IGlucHV0ID0+IHtcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgIGlucHV0LmNsYXNzTGlzdC5yZW1vdmUoXCJlcnJvcl9pbnB1dFwiKTtcbiAgfSwgMzAwMCk7XG59O1xuXG5jbGFzcyBSZWdpc3RyYXRpb24ge1xuICBjb25zdHJ1Y3RvcihuYW1lLCBsYXN0LCBlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMubGFzdCA9IGxhc3Q7XG4gICAgdGhpcy5tYWlsID0gZW1haWw7XG4gICAgdGhpcy5wYXNzd29yZCA9IHBhc3N3b3JkO1xuICAgIHRoaXMuYXZhdGFyVXJsID0gXCJkZWZhdWx0XCI7XG4gICAgaWYgKHRoaXMuYXZhdGFyVXJsID09PSBcImRlZmF1bHRcIikge1xuICAgICAgdGhpcy5zZXRVcmwoKTtcbiAgICB9XG4gICAgdGhpcy5sb2dnZWRTdGF0dXMgPSBmYWxzZTtcbiAgICB0aGlzLmF1dGhvcmlzZWQgPSBmYWxzZTtcblxuICAgIHRoaXMudmFsaWRhdGlvbigpO1xuICAgIGlmICh0aGlzLnZhbGlkYXRpb24oKSA9PT0gdHJ1ZSkge1xuICAgICAgYXJyVXNlcnMucHVzaCh0aGlzKTtcbiAgICAgIGlucE5hbWUudmFsdWUgPSBcIlwiO1xuICAgICAgaW5wUGFzcy52YWx1ZSA9IFwiXCI7XG4gICAgICBpbnBDb25maXJtUGFzcy52YWx1ZSA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChhcnJVc2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICBuZXdBcnIgPSBhcnJVc2Vyc1xuICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIGlmIChhLm1haWwgPT09IGIubWFpbCkge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIC5yZWR1Y2UoZnVuY3Rpb24oYXJyLCBlbCkge1xuICAgICAgICAgIGlmICghYXJyLmxlbmd0aCB8fCBhcnJbYXJyLmxlbmd0aCAtIDFdLm1haWwgIT0gZWwubWFpbCkge1xuICAgICAgICAgICAgYXJyLnB1c2goZWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYXJyO1xuICAgICAgICB9LCBbXSk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhuZXdBcnIpXG4gICAgfVxuICB9XG4gIHZhbGlkYXRpb24oKSB7XG4gICAgaWYgKHRoaXMubmFtZSA9PT0gXCJcIiB8fCB0aGlzLm5hbWUubGVuZ3RoIDwgNSkge1xuICAgICAgaW5wTmFtZS5jbGFzc0xpc3QuYWRkKFwiZXJyb3JfaW5wdXRcIik7XG5cbiAgICAgIGVycm9yT3V0LmlubmVySFRNTCA9IGBJbmNvcnJlY3QgbmFtZWA7XG4gICAgICBjbGVhckZpZWxkKGVycm9yT3V0KTtcbiAgICAgIGNsZWFySW5wKGlucE5hbWUpO1xuICAgICAgaW5wTmFtZS52YWx1ZSA9IFwiXCI7XG5cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKCEvKFxcYlxcdyopQChcXHcrXFwuXFx3K1xcYikvLnRlc3QodGhpcy5tYWlsKSkge1xuICAgICAgaW5wRW1haWwuY2xhc3NMaXN0LmFkZChcImVycm9yX2lucHV0XCIpO1xuICAgICAgZXJyb3JPdXQuaW5uZXJIVE1MID0gYEluY29ycmVjdCBlbWFpbGA7XG4gICAgICBjbGVhckZpZWxkKGVycm9yT3V0KTtcbiAgICAgIGNsZWFySW5wKGlucEVtYWlsKTtcbiAgICAgIGlucEVtYWlsLnZhbHVlID0gXCJcIjtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5wYXNzd29yZC5sZW5ndGggPCA1IHx8XG4gICAgICB0aGlzLnBhc3N3b3JkICE9PSBpbnBDb25maXJtUGFzcy52YWx1ZVxuICAgICkge1xuICAgICAgaW5wUGFzcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JfaW5wdXRcIik7XG4gICAgICBpbnBDb25maXJtUGFzcy5jbGFzc0xpc3QuYWRkKFwiZXJyb3JfaW5wdXRcIik7XG4gICAgICBlcnJvck91dC5pbm5lckhUTUwgPSBgSW5jb3JyZWN0IHBhc3N3b3JkYDtcbiAgICAgIGNsZWFyRmllbGQoZXJyb3JPdXQpO1xuICAgICAgY2xlYXJJbnAoaW5wUGFzcyk7XG4gICAgICBpbnBQYXNzLnZhbHVlID0gXCJcIjtcbiAgICAgIGlucENvbmZpcm1QYXNzLnZhbHVlID0gXCJcIjtcblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBzZXRVcmwoKSB7XG4gICAgdGhpcy5hdmF0YXJVcmwgPVxuICAgICAgXCJodHRwczovL2NkbjQuaWNvbmZpbmRlci5jb20vZGF0YS9pY29ucy9lc3NlbnRpYWwtYXBwLTIvMTYvdXNlci1hdmF0YXItaHVtYW4tYWRtaW4tbG9naW4tNTEyLnBuZ1wiO1xuICB9XG59XG5cbmxldCBvbGRVc2VycyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJuZXdVc2VyXCIpKTtcbmxldCBkYXRhID0gW107XG5sZXQgdW5pcXVlVXNlciA9IChhcnIxLCBhcnIyKSA9PiB7XG4gIGlmIChvbGRVc2VycyAhPT0gbnVsbCkge1xuICAgIGRhdGEgPSBbLi4uYXJyMSwgLi4uYXJyMl07XG4gICAgYXJyYXkgPSBkYXRhXG4gICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBpZiAoYS5tYWlsID09PSBiLm1haWwpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAucmVkdWNlKGZ1bmN0aW9uKGFyciwgZWwpIHtcbiAgICAgICAgaWYgKCFhcnIubGVuZ3RoIHx8IGFyclthcnIubGVuZ3RoIC0gMV0ubWFpbCAhPSBlbC5tYWlsKSB7XG4gICAgICAgICAgYXJyLnB1c2goZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgICB9LCBbXSk7XG4gICAgZGF0YSA9IFsuLi5hcnJheV07XG4gIH0gZWxzZSB7XG4gICAgZGF0YSA9IFsuLi5hcnIyXTtcbiAgfVxufTtcblxubGV0IGNyZWF0ZVVzZXIgPSBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBsZXQgdXNyID0gbmV3IFJlZ2lzdHJhdGlvbihcbiAgICBpbnBOYW1lLnZhbHVlLFxuICAgIGlucExhc3QudmFsdWUsXG4gICAgaW5wRW1haWwudmFsdWUsXG4gICAgaW5wUGFzcy52YWx1ZVxuICApO1xuICB1bmlxdWVVc2VyKG9sZFVzZXJzLCBuZXdBcnIpO1xuICBpZiAodXNyLmF1dGhvcmlzZWQgIT09IGRhdGFbMF0uYXV0aG9yaXNlZCkge1xuICAgIGVycm9yT3V0LmlubmVyVGV4dCA9IFwiVGhpcyBlbWFpbCBpcyBhbHJlYWR5IHJlZ2lzdGVyZWRcIjtcbiAgICBjbGVhckZpZWxkKHN1Y2Nlc091dCk7XG4gICAgaW5wRW1haWwudmFsdWUgPSBcIlwiO1xuICAgIGNsZWFyRmllbGQoZXJyb3JPdXQpO1xuICB9IGVsc2Uge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibG9nZ2VkU3RhdHVzXCIsIFwidHJ1ZVwiKTtcbiAgICB1c3IuYXV0aG9yaXNlZCA9IHRydWU7XG4gICAgc2hvd1Byb2YodXNyKTtcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcbiAgfVxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIm5ld1VzZXJcIiwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpO1xuICBkYXRhLm1hcChpdGVtID0+IHtcbiAgICBpdGVtLmxvZ2dlZFN0YXR1cyA9IHRydWU7XG4gIH0pO1xufTtcbi8vIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdsb2dnZWRTdGF0dXMnLCAndHJ1ZScpO1xuXG5yZWdpc3RyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVVc2VyKTtcbmV4cG9ydCB7IGNsZWFyRmllbGQgfTtcbiIsImltcG9ydCByZWdpc3RyIGZyb20gXCIuL3JlZ2lzdHJhdGlvblwiO1xuaW1wb3J0IHNpZ25VcCBmcm9tIFwiLi9zaWduVXBcIjtcbiIsImNvbnN0IGNyZWF0ZU5vZGUgPSAoaXRlbSwgbmFtZSwgemlkKSA9PiB7XG4gIGxldCBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChpdGVtKTtcbiAgZWxlbS5pbm5lckhUTUwgPSBuYW1lO1xuICBpZiAoemlkICE9PSB1bmRlZmluZWQpIHtcbiAgICBlbGVtLmRhdGFzZXQuaWQgPSB6aWQ7XG4gIH1cbiAgcmV0dXJuIGVsZW07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVOb2RlO1xuIiwiaW1wb3J0IGNyZWF0ZU5vZGUgZnJvbSBcIi4vY3JlYXRlTm9kZVwiO1xuXG5jb25zdCBTZWFyY2hGdW5jID0gKG1vZGVsLCBmZWVkKSA9PiB7XG4gIGxldCBzLFxuICAgIG9iaixcbiAgICB1bmlxdWVBcnIsXG4gICAgaW5wX3NlYXJjaCxcbiAgICBpbnBfdmFsLFxuICAgIGJ0bl9zZWFyY2gsXG4gICAgcmVzdWx0X3NlYXJjaCxcbiAgICBhLFxuICAgIGJsb2NrX292ZXJsYXksXG4gICAgcmVzdWx0X2FycmF5LFxuICAgIHdyX3Bvc3RzO1xuXG4gIGlucF9zZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucF9zZWFyY2hcIik7XG4gIHJlc3VsdF9zZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdF9zZWFyY2hcIik7XG4gIGEgPSByZXN1bHRfc2VhcmNoLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKTtcbiAgYmxvY2tfb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmxvY2tfb3ZlcmxheVwiKTtcblxuICBpbnBfc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICByZXN1bHRfc2VhcmNoLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICByZXN1bHRfc2VhcmNoLnN0eWxlLm9wYWNpdHkgPSBcIjFcIjtcbiAgICBibG9ja19vdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgcmVzdWx0X3NlYXJjaC5pbm5lckhUTUwgPSBudWxsO1xuXG4gICAgaW5wX3ZhbCA9IGUudGFyZ2V0LnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgcmVzdWx0X2FycmF5ID0gbW9kZWwuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgaWYgKGl0ZW0udGFncy5pbmNsdWRlcyhpbnBfdmFsKSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhpbnBfdmFsKSkge1xuICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlc3VsdF9hcnJheS5tYXAoaXRlbSA9PiB7XG4gICAgICBpZiAoaXRlbS50YWdzLmluY2x1ZGVzKGlucF92YWwpKSB7XG4gICAgICAgIGEgPSBjcmVhdGVOb2RlKFwiYVwiLCBpdGVtLnRhZ3MsIGl0ZW0uaWQpO1xuXG4gICAgICAgIGEub25jbGljayA9IGUgPT4ge1xuICAgICAgICAgIGxldCBjbGlja19pdGVtX2lkID0gaXRlbS5pZDtcbiAgICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy50YWJfY29udGVudFtkYXRhLWlkPVwiMVwiXScpXG4gICAgICAgICAgICAuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcudGFiX2NvbnRlbnRbZGF0YS1pZD1cIjJcIl0nKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICAgIHJlc3VsdF9zZWFyY2guaW5uZXJIVE1MID0gbnVsbDtcbiAgICAgICAgICByZXN1bHRfc2VhcmNoLnN0eWxlLnZpc2liaWxpdHkgPSBudWxsO1xuICAgICAgICAgIHJlc3VsdF9zZWFyY2guc3R5bGUub3BhY2l0eSA9IG51bGw7XG4gICAgICAgICAgYmxvY2tfb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcblxuICAgICAgICAgIGZlZWQucmVuZGVyUG9zdChjbGlja19pdGVtX2lkKTtcbiAgICAgICAgfTtcblxuICAgICAgICBhLnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xuICAgICAgICByZXN1bHRfc2VhcmNoLmFwcGVuZENoaWxkKGEpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW0ubmFtZS5pbmNsdWRlcyhpbnBfdmFsKSkge1xuICAgICAgICBhID0gY3JlYXRlTm9kZShcImFcIiwgaXRlbS5uYW1lLCBpdGVtLmlkKTtcblxuICAgICAgICBhLm9uY2xpY2sgPSBlID0+IHtcbiAgICAgICAgICBsZXQgY2xpY2tfaXRlbV9pZCA9IGl0ZW0uaWQ7XG4gICAgICAgICAgZG9jdW1lbnRcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcudGFiX2NvbnRlbnRbZGF0YS1pZD1cIjFcIl0nKVxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgICAgIGRvY3VtZW50XG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLnRhYl9jb250ZW50W2RhdGEtaWQ9XCIyXCJdJylcbiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgICByZXN1bHRfc2VhcmNoLmlubmVySFRNTCA9IG51bGw7XG4gICAgICAgICAgcmVzdWx0X3NlYXJjaC5zdHlsZS52aXNpYmlsaXR5ID0gbnVsbDtcbiAgICAgICAgICByZXN1bHRfc2VhcmNoLnN0eWxlLm9wYWNpdHkgPSBudWxsO1xuICAgICAgICAgIGJsb2NrX292ZXJsYXkuc3R5bGUuZGlzcGxheSA9IG51bGw7XG5cbiAgICAgICAgICBmZWVkLnJlbmRlclBvc3QoY2xpY2tfaXRlbV9pZCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgYS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICAgICAgcmVzdWx0X3NlYXJjaC5hcHBlbmRDaGlsZChhKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgYmxvY2tfb3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJlc3VsdF9zZWFyY2guaW5uZXJIVE1MID0gbnVsbDtcbiAgICByZXN1bHRfc2VhcmNoLnN0eWxlLnZpc2liaWxpdHkgPSBudWxsO1xuICAgIHJlc3VsdF9zZWFyY2guc3R5bGUub3BhY2l0eSA9IG51bGw7XG4gICAgYmxvY2tfb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gbnVsbDtcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBTZWFyY2hGdW5jO1xuIiwiaW1wb3J0IGNyZWF0ZU5vZGUgZnJvbSBcIi4vY3JlYXRlTm9kZVwiO1xuXG5jb25zdCBUYWdzUGFnZSA9IChtb2RlbCwgZmVlZCkgPT4ge1xuICBsZXQgYSwgcmVzdWx0X2FycmF5LCB3cl90YWdzO1xuXG4gIHdyX3RhZ3MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRhZ3NcIik7XG4gIGEgPSB3cl90YWdzLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKTtcblxuICBsZXQgeFRhZ3MgPSBbXTtcbiAgbW9kZWwubWFwKGl0ZW0gPT4ge1xuICAgIGl0ZW0udGFncy5tYXAodGFnID0+IHhUYWdzLnB1c2godGFnKSk7XG4gIH0pO1xuICBjb25zdCBmaWx0ZXJVbmlxdWUgPSAodmFsLCBpbmQsIGVsZW0pID0+IGVsZW0uaW5kZXhPZih2YWwpID09PSBpbmQ7XG4gIHJlc3VsdF9hcnJheSA9IHhUYWdzLmZpbHRlcihmaWx0ZXJVbmlxdWUpO1xuXG4gIHdyX3RhZ3MuaW5uZXJIVE1MID0gbnVsbDtcblxuICByZXN1bHRfYXJyYXkubWFwKGl0ZW0gPT4ge1xuICAgIGEgPSBjcmVhdGVOb2RlKFwiYVwiLCBpdGVtKTtcblxuICAgIGEub25jbGljayA9IGUgPT4ge1xuICAgICAgbGV0IHNlcmFjaFJlcyA9IG1vZGVsLmZpbHRlcihwb3N0ID0+IHtcbiAgICAgICAgcmV0dXJuIHBvc3QudGFncy5zb21lKHRhZyA9PiB0YWcgPT09IGl0ZW0pO1xuICAgICAgfSk7XG4gICAgICBzZXJhY2hSZXMgPSBzZXJhY2hSZXMubWFwKHBvc3QgPT4gcG9zdC5pZCk7XG5cbiAgICAgIGZlZWQucmVuZGVyUG9zdChzZXJhY2hSZXMpO1xuXG4gICAgICBkb2N1bWVudFxuICAgICAgICAucXVlcnlTZWxlY3RvcignLnRhYl9jb250ZW50W2RhdGEtaWQ9XCIxXCJdJylcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93XCIpO1xuICAgICAgZG9jdW1lbnRcbiAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy50YWJfY29udGVudFtkYXRhLWlkPVwiM1wiXScpXG4gICAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwic2hvd1wiKTtcbiAgICB9O1xuXG4gICAgYS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcbiAgICB3cl90YWdzLmFwcGVuZENoaWxkKGEpO1xuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRhZ3NQYWdlO1xuIiwiaW1wb3J0IFNlYXJjaCBmcm9tIFwiLi9zZWFyY2hcIjtcbmltcG9ydCBUYWdzUGFnZSBmcm9tIFwiLi90YWdzXCI7XG5pbXBvcnQgeyBGZWVkIH0gZnJvbSBcIi4uL2ZlZWRcIjtcbmltcG9ydCBjcmVhdGVOb2RlIGZyb20gXCIuL2NyZWF0ZU5vZGVcIjtcblxubGV0IGZlZWQgPSBuZXcgRmVlZCgpO1xubGV0IG1vZGVsO1xuZmVlZC5nZXRQb3N0cygpLnRoZW4ocmVzID0+IHtcbiAgbW9kZWwgPSBmZWVkLnBvc3RzLm1hcChvbGQgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBpZDogb2xkLmlkLFxuICAgICAgbmFtZTogYCR7b2xkLmF1dGhvci5maXJzdE5hbWV9ICR7b2xkLmF1dGhvci5sYXN0TmFtZX1gLFxuICAgICAgdGFnczogb2xkLnRhZ3MubWFwKGl0ZW0gPT4gaXRlbS50b0xvd2VyQ2FzZSgpKVxuICAgIH07XG4gIH0pO1xuICBTZWFyY2gobW9kZWwsIGZlZWQpO1xuICBUYWdzUGFnZShtb2RlbCwgZmVlZCk7XG59KTtcbiIsImxldCB0YWJfY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0YWJfY29udGFpbmVyXCIpO1xubGV0IHByb2ZBdmF0YXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByb2ZBdmF0XCIpO1xuXG5sZXQgYXJyID0gQXJyYXkuZnJvbSh0YWJfY29udGFpbmVyLmNoaWxkcmVuKTsgLy8gcmVmYWN0b3IgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiB0YWJfY29udGFpbmVyIHRvIGFycmF5XG5cbmxldCB0YWJIYW5kbGVyID0gYXJyLm1hcChpdGVtID0+IHtcbiAgbGV0IGN1clBvcyA9IGl0ZW0uZGF0YXNldC5pZDsgLy8gc2V0IGN1cnJlbnQgcG9zaXRpb24gb2YgaXRlbVxuICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBsZXQgdGFiX2NvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYl9jb250ZW50XCIpOyAvLyBnZXQgYWxsIGJsb2NrIHdpdGggY2xhc3MgdGFiX2NvbnRlbnRcbiAgICBsZXQgYXJyVGFiQ29udGVudCA9IEFycmF5LmZyb20odGFiX2NvbnRlbnQpOyAvLyByZWZhY3RvciBjb2xsZWN0aW9uIG9mIHRhYl9jb250ZW50IHRvIGFycmF5XG5cbiAgICAvL3RoaXMgZnVuY3Rpb24gc2hvdyBjb250ZW50IGlmIGRhdGEtYXR0cmlidXRlIGlkIGVxdWFscyBiZXR3ZWVuIHRhYl9jb250YWluZXIuY2hpbGRyZW4gYW5kIHRhYl9jb250ZW50XG4gICAgYXJyVGFiQ29udGVudC5tYXAodGFiID0+IHtcbiAgICAgIGlmIChpdGVtLmRhdGFzZXQuaWQgPT09IHRhYi5kYXRhc2V0LmlkKSB7XG4gICAgICAgIHRhYi5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhYi5jbGFzc0xpc3QucmVtb3ZlKFwic2hvd1wiKTtcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoXCJoaWRlXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIHRoaXMgYmxvY2sgYWRkIGNsYXNzICdhY3RpdmUnIGZvciBjaG9zZW4gZWxlbWVudCBhbmQgcmVtb3ZlIGNsYXNzIGZvciBwcmV2aW91c1xuICAgIGFyci5tYXAoYWN0aXZlTGluZSA9PiB7XG4gICAgICBhY3RpdmVMaW5lLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XG4gICAgICBhcnJbY3VyUG9zIC0gMV0uY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcbiAgICB9KTtcbiAgfSk7XG4gIHByb2ZBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgIGxldCB0YWJfY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudGFiX2NvbnRlbnRcIik7XG4gICAgbGV0IGFyclRhYkNvbnRlbnQgPSBBcnJheS5mcm9tKHRhYl9jb250ZW50KTtcbiAgICBhcnJUYWJDb250ZW50Lm1hcCh0YWIgPT4ge1xuICAgICAgaWYgKHByb2ZBdmF0YXIuZGF0YXNldC5pZCA9PT0gdGFiLmRhdGFzZXQuaWQpIHtcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGFiLmNsYXNzTGlzdC5yZW1vdmUoXCJzaG93XCIpO1xuICAgICAgICB0YWIuY2xhc3NMaXN0LmFkZChcImhpZGVcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXJyLm1hcChhY3RpdmVMaW5lID0+IHtcbiAgICAgIGFjdGl2ZUxpbmUuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcbiAgICAgIGFycltjdXJQb3MgLSAxXS5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCB0YWJIYW5kbGVyO1xuIiwiaW1wb3J0IHsgRmVlZCB9IGZyb20gXCIuL2ZlZWRcIjtcbmltcG9ydCBDYWxlbmRhciBmcm9tIFwiLi9jYWxlbmRhclwiO1xuaW1wb3J0IFByb2ZpbGUgZnJvbSBcIi4vcHJvZmlsZVwiO1xuaW1wb3J0IFNlYXJjaCBmcm9tIFwiLi9zZWFyY2hcIjtcbmltcG9ydCBUYWIgZnJvbSBcIi4vdGFic1wiO1xuXG5jb25zdCBmZWVkID0gbmV3IEZlZWQoKTtcblxubGV0IGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbmJ0bi50eXBlID0gXCJidXR0b25cIjtcbmJ0bi52YWx1ZSA9IFwiU2hvdyBNb3JlXCI7XG5idG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGZlZWQuc2hvd1Bvc3RzKCkpO1xuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwb3N0c1wiKS5hcHBlbmRDaGlsZChidG4pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBhc3luYyAoKSA9PiB7XG4gIGF3YWl0IGZlZWQuZ2V0UG9zdHMoKTtcblxuICAvLyBmZWVkLnJlbmRlclBvc3QoW1wiNWIzYTY0YTk0ODIwODc3Mzg1OGE1MGY5XCIsIFwiNWIzYTY0YTliYTVlNjcxODliMDk1Yzk2XCIsIFwiNWIzYTY0YTlmZTE4NDRkNjkyMmVlY2Q2XCJdKTtcbiAgZmVlZC5zaG93UG9zdHMoKTtcbn0pO1xuXG4vLyBmZWVkLmdldFBvc3RzKCk7ICDRgdC60LDRh9GD0ZQg0LLRgdGWINC90LDRiNGWINC/0L7RgdGC0Lhcbi8vIGZlZWQuc2hvd1Bvc3QoKTsg0L/QvtC60LDQt9GD0ZQg0L/QtdGA0YjRliA1INC/0L7RgdGC0ZbQsiwg0LAg0L/RgNC4INC/0L7QstGC0L7RgNC90L7QvNGDINCy0LjQutC70LjRhtGWINC/0L7QutCw0LfRg9GUINC90LDRgdGC0YPQv9GG0ZYgNVxuLy8gZmVlZC5yZW5kZXJQb3N0KCk7INC/0YDQuNC50LzQsNGUIGlkINCw0LHQviDQvNCw0YHQuNCyIGlkINGWINCy0LjQstC+0LTQuNGC0Ywg0L3QsCDQtdC60YDQsNC9XG4iXSwibWFwcGluZ3MiOiI7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFRQTtBQVRBO0FBQ0E7QUFXQTs7O0FBR0E7QUFDQTs7O0FBSkE7QUFDQTtBQVFBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBR0E7OztBQU5BO0FBVUE7QUFDQTtBQUNBO0FBR0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUlBOzs7O0FBSUE7QUFHQTs7Ozs7QUFLQTs7Ozs7O0FBTUE7Ozs7O0FBS0E7Ozs7QUFNQTs7OztBQUtBOztBQUlBO0FBR0E7OztBQUhBOztBQTVDQTtBQUNBO0FBd0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFoTEE7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQS9DQTs7OztBQ0pBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUZBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0S0E7QUFDQTtBQXdLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZEE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN1lBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2SkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBNUVBO0FBQ0E7QUE4RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQy9KQTs7O0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDVEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9GQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7O0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUM5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n')}]);